<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>🔥 Hot Module Replacement</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link type="text/css" rel="stylesheet" href="assets/style.css" />
  <link type="text/css" rel="stylesheet" href="assets/pilcrow.css" />
  <link type="text/css" rel="stylesheet" href="assets/hljs-github.min.css"/>
  <link rel="shortcut icon" href="assets/podium.png" type="image/x-icon">
</head>
<body>
  <header>
    <a class="logo" href="/">
      <img class="podium" src="assets/podium.png">
      Podium
    </a>
    <div class="links">
      <a href="https://github.schibsted.io/Podium" target="_blank">GitHub</a>
    </div>
  </header>
  <div class="content">
    <nav>
      <h3>Podlet</h3>
      <ul>
        <li><a href="podlets_getting_started.html">🚀 Getting Started</a></li>
        <li><a href="podlets_fallbacks.html">🔌 Fallbacks</a></li>
        <li><a href="podlets_proxying.html">🐠 Proxying</a></li>
        <li><a href="podlet_api.html">📚 API</a></li>
      </ul>
      <!--
      <h2>Layouts</h2>
      <h3>📚 Guides</h3>
      <ul>
        <li><a href="layouts_getting_started.html">🚀 Getting Started</a></li>
      </ul>
      <h3>📚 API Docs</h3>
      <ul>
        <li><a href="layout_api.html">Layout</a></li>
        <li><a href="layout_app_api.html">Layout App</a></li>
        <li><a href="layout_app_server_api.html">Layout App Server</a></li>
      </ul>
      -->
    </nav>
    <main><h1 id="🔥-hot-module-replacement"><a class="header-link" href="#🔥-hot-module-replacement"></a>🔥 Hot Module Replacement</h1>
<p>Hot Module Replacement (HMR) improves the development experience by automatically updating modules in the browser at runtime without needing a whole page refresh. This means that application state can be retained as you change small things. Parcel&#39;s HMR implementation supports both JavaScript and CSS assets out of the box. HMR is automatically disabled when bundling in production mode.</p>
<p>As you save files, Parcel rebuilds what changed and sends an update to any running clients containing the new code. The new code then replaces the old version, and is re-evaluated along with all parents. You can hook into this process using the <code>module.hot</code> API, which can notify your code when a module is about to be disposed, or when a new version comes in. Projects like <a href="https://github.com/gaearon/react-hot-loader">react-hot-loader</a> can help with this process, and work out of the box with Parcel.</p>
<p>There are two methods to know about: <code>module.hot.accept</code> and <code>module.hot.dispose</code>. You call <code>module.hot.accept</code> with a callback function which is executed when that module or any of its dependencies are updated. <code>module.hot.dispose</code> accepts a callback which is called when that module is about to be replaced.</p>
<pre class="hljs"><code><span class="hljs-keyword">if</span> (<span class="hljs-built_in">module</span>.hot) {
  <span class="hljs-built_in">module</span>.hot.dispose(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// module is about to be replaced</span>
  });

  <span class="hljs-built_in">module</span>.hot.accept(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// module or one of its dependencies was just updated</span>
  });
}</code></pre><h2 id="safe-write"><a class="header-link" href="#safe-write"></a>Safe Write</h2>
<p>Some text editors and IDE&#39;s have a feature called <code>safe write</code> this basically prevents data loss, by taking a copy of the file and renaming it when saved.</p>
<p>When using Hot Module Reload (HMR) this feature blocks the automatic detection of file updates, to disable <code>safe write</code> use the options provided below:</p>
<ul class="list">
<li><code>Sublime Text 3</code> add <code>atomic_save: &quot;false&quot;</code> to your user preferences.</li>
<li><code>IntelliJ</code> use search in the preferences to find &quot;safe write&quot; and disable it.</li>
<li><code>Vim</code> add <code>:set backupcopy=yes</code> to your settings.</li>
<li><code>WebStorm</code> uncheck <code>Use &quot;safe write&quot;</code> in Preferences &gt; Appearance &amp; Behavior &gt; System Settings.</li>
</ul>
    </main>
  </div>
  <script>
    (function () {
      var pathname = window.location.pathname.substr(1);
      var activeLink = document.querySelector('a[href="' + pathname + '"]');

      activeLink.classList.add('selected');
    })();
  </script>
</body>
</html>
