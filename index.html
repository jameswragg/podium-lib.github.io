<!DOCTYPE html><html lang=""><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Podium · Easy server side composition of microfrontends</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Easy server side composition of microfrontends"/><meta property="og:title" content="Podium · Easy server side composition of microfrontends"/><meta property="og:type" content="website"/><meta property="og:url" content="https://podium-lib.io//"/><meta property="og:description" content="Easy server side composition of microfrontends"/><meta property="og:image" content="https://podium-lib.io/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://podium-lib.io/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/favicon-32x32.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css"/><link rel="alternate" type="application/atom+xml" href="https://podium-lib.io/blog/atom.xml" title="Podium Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://podium-lib.io/blog/feed.xml" title="Podium Blog RSS Feed"/><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/favicon-96x96.png" alt="Podium"/><h2 class="headerTitleWithLogo">Podium</h2></a><a href="/versions"><h3>4.2.0</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/docs/podium/conceptual_overview" target="_self">Overview</a></li><li class=""><a href="/docs/podlet/getting_started" target="_self">Podlets</a></li><li class=""><a href="/docs/layout/getting_started" target="_self">Layouts</a></li><li class=""><a href="/docs/api/getting_started" target="_self">API</a></li><li class=""><a href="/help" target="_self">Help</a></li><li class=""><a href="/blog/" target="_self">Blog</a></li></ul></nav></div></header></div></div><div class="navPusher"><div><div class="homeContainer podium-front-head"><div class="homeSplashFade"><div class="wrapper homeWrapper"><div class="podium-front-head-logo"><img src="/img/podium.png" alt="Podium"/></div><div class="inner"><h2 class="projectTitle podium-front-head-text">Podium<small>Easy server side composition of microfrontends</small></h2><div class="section promoSection"><div class="promoRow"><div class="pluginRowBlock"><div class="pluginWrapper buttonWrapper podium-front-button-wrapper"><a class="button" href="/docs/podium/conceptual_overview">Get Started</a></div><div class="pluginWrapper buttonWrapper podium-front-button-wrapper"><a class="button" href="https://github.com/podium-lib/">GitHub</a></div></div></div></div></div></div></div></div><div class="mainContainer"><div class="container paddingBottom paddingTop"><div class="wrapper"><div class="gridBlock"><div class="blockElement alignCenter fourByGridBlock imageAlignTop"><div class="blockImage"><img src="/img/isolation_min.svg"/></div><div class="blockContent"><h2><div><span><p>Autonomous development</p>
</span></div></h2><div><span><p>By adopting a simple manifest, teams can develop and serve parts of a web page in isolation as if one where developing and hosting a full site. These isolated parts, aka Podlets, can easily be developed in any technology stack or one can opt in to using the node.js Podium library with your favorite HTTP framework of choice.</p>
</span></div></div></div><div class="blockElement alignCenter fourByGridBlock imageAlignTop"><div class="blockImage"><img src="/img/composed_min.svg"/></div><div class="blockContent"><h2><div><span><p>Powerful composition</p>
</span></div></h2><div><span><p>Podium makes it easy, yet flexible, to compose parts developed in isolation into full complex pages, aka Layouts. Page compostion is done programmatically instead of through config or markup providing much more power and freedom to make compostion suit every need one might have.</p>
</span></div></div></div><div class="blockElement alignCenter fourByGridBlock imageAlignTop"><div class="blockImage"><img src="/img/contract_min.svg"/></div><div class="blockContent"><h2><div><span><p>Contract based</p>
</span></div></h2><div><span><p>Composition with Podium is done over HTTP but between the isolated parts and the composition layer there is a strong contract. This ensures that the isolated parts always has a set of key, request bound, properties which can be of value to them to operate while the composition layer has usefull info about each isolated part it can use when composing.</p>
</span></div></div></div></div></div></div><div class="container podium-front-examples paddingBottom paddingTop"><div class="wrapper"><div class="gridBlock"><div class="blockElement twoByGridBlock"><div class="blockContent"><h2><div><span><p>Podlets</p>
</span></div></h2><div><span><p>Podlets (page fragments) are standalone HTTP services developed and run in isolation. Podlets can be written in any language, but Podium comes with a @podium/podlet module for easy development of Podlets in node.js.</p>
<p>This is a Podlet serving a HTML endpoint responding to the locale it get from a Layout:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-26-tab-27" class="nav-link active" data-group="group_26" data-tab="tab-group-26-content-27">Express</div><div id="tab-group-26-tab-28" class="nav-link" data-group="group_26" data-tab="tab-group-26-content-28">Hapi</div><div id="tab-group-26-tab-29" class="nav-link" data-group="group_26" data-tab="tab-group-26-content-29">Fastify</div><div id="tab-group-26-tab-30" class="nav-link" data-group="group_26" data-tab="tab-group-26-content-30">HTTP</div></div><div class="tab-content"><div id="tab-group-26-content-27" class="tab-pane active" data-group="group_26" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);<br><span class="hljs-keyword">const</span> Podlet = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@podium/podlet'</span>);<br><br><span class="hljs-keyword">const</span> app = express();<br><br><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br>    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br>    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br>    <span class="hljs-attr">development</span>: <span class="hljs-literal">true</span>,<br>});<br><br>app.use(podlet.middleware());<br><br>app.get(podlet.content(), (req, res) =&gt; {<br>    <span class="hljs-keyword">if</span> (res.locals.podium.context.locale === <span class="hljs-string">'nb-NO'</span>) {<br>        <span class="hljs-keyword">return</span> res.status(<span class="hljs-number">200</span>).podiumSend(<span class="hljs-string">'&lt;h2&gt;Hei verden&lt;/h2&gt;'</span>);<br>    }<br>    res.status(<span class="hljs-number">200</span>).podiumSend(<span class="hljs-string">`&lt;h2&gt;Hello world&lt;/h2&gt;`</span>);<br>});<br><br>app.get(podlet.manifest(), (req, res) =&gt; {<br>    res.status(<span class="hljs-number">200</span>).json(podlet);<br>});<br><br>app.listen(<span class="hljs-number">7100</span>);<br></code></pre>
</span></div></div><div id="tab-group-26-content-28" class="tab-pane" data-group="group_26" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> HapiPodlet = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@podium/hapi-podlet'</span>);<br><span class="hljs-keyword">const</span> Podlet = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@podium/podlet'</span>);<br><span class="hljs-keyword">const</span> Hapi = <span class="hljs-built_in">require</span>(<span class="hljs-string">'hapi'</span>);<br><br><span class="hljs-keyword">const</span> app = Hapi.Server({<br>    <span class="hljs-attr">host</span>: <span class="hljs-string">'localhost'</span>,<br>    <span class="hljs-attr">port</span>: <span class="hljs-number">7100</span>,<br>});<br><br><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br>    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br>    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br>    <span class="hljs-attr">development</span>: <span class="hljs-literal">true</span>,<br>});<br><br>app.register({<br>    <span class="hljs-attr">plugin</span>: <span class="hljs-keyword">new</span> HapiPodlet(),<br>    <span class="hljs-attr">options</span>: podlet,<br>});<br><br>app.route({<br>    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br>    <span class="hljs-attr">path</span>: podlet.content(),<br>    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> {<br>        <span class="hljs-keyword">if</span> (request.app.podium.context.locale === <span class="hljs-string">'nb-NO'</span>) {<br>            <span class="hljs-keyword">return</span> h.podiumSend(<span class="hljs-string">'&lt;h2&gt;Hei verden&lt;/h2&gt;'</span>);<br>        }<br>        <span class="hljs-keyword">return</span> h.podiumSend(<span class="hljs-string">'&lt;h2&gt;Hello world&lt;/h2&gt;'</span>);<br>    },<br>});<br><br>app.route({<br>    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br>    <span class="hljs-attr">path</span>: podlet.manifest(),<br>    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> <span class="hljs-built_in">JSON</span>.stringify(podlet),<br>});<br><br>app.start();<br></code></pre>
</span></div></div><div id="tab-group-26-content-29" class="tab-pane" data-group="group_26" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> fastifyPodlet = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@podium/fastify-podlet'</span>);<br><span class="hljs-keyword">const</span> fastify = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fastify'</span>);<br><span class="hljs-keyword">const</span> Podlet = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@podium/podlet'</span>);<br><br><span class="hljs-keyword">const</span> app = fastify();<br><br><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br>    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br>    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br>    <span class="hljs-attr">development</span>: <span class="hljs-literal">true</span>,<br>});<br><br>app.register(fastifyPodlet, podlet);<br><br>app.get(podlet.content(), <span class="hljs-keyword">async</span> (request, reply) =&gt; {<br>    <span class="hljs-keyword">if</span> (reply.app.podium.context.locale === <span class="hljs-string">'nb-NO'</span>) {<br>        reply.podiumSend(<span class="hljs-string">'&lt;h2&gt;Hei verden&lt;/h2&gt;'</span>);<br>        <span class="hljs-keyword">return</span>;<br>    }<br>    reply.podiumSend(<span class="hljs-string">'&lt;h2&gt;Hello world&lt;/h2&gt;'</span>);<br>});<br><br>app.get(podlet.manifest(), <span class="hljs-keyword">async</span> (request, reply) =&gt; {<br>    reply.send(podlet);<br>});<br><br><span class="hljs-keyword">const</span> start = <span class="hljs-keyword">async</span> () =&gt; {<br>    <span class="hljs-keyword">try</span> {<br>        <span class="hljs-keyword">await</span> app.listen(<span class="hljs-number">7100</span>);<br>        app.log.info(<span class="hljs-string">`server listening on <span class="hljs-subst">${app.server.address().port}</span>`</span>);<br>    } <span class="hljs-keyword">catch</span> (err) {<br>        app.log.error(err);<br>        process.exit(<span class="hljs-number">1</span>);<br>    }<br>};<br>start();<br></code></pre>
</span></div></div><div id="tab-group-26-content-30" class="tab-pane" data-group="group_26" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> { HttpIncoming } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@podium/utils'</span>);<br><span class="hljs-keyword">const</span> Podlet = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@podium/podlet'</span>);<br><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>);<br><br><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br>    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br>    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br>    <span class="hljs-attr">development</span>: <span class="hljs-literal">true</span>,<br>});<br><br><span class="hljs-keyword">const</span> server = http.createServer(<span class="hljs-keyword">async</span> (req, res) =&gt; {<br>    <span class="hljs-keyword">let</span> incoming = <span class="hljs-keyword">new</span> HttpIncoming(req, res);<br>    incoming = <span class="hljs-keyword">await</span> podlet.process(incoming);<br><br>    <span class="hljs-keyword">if</span> (incoming.url.pathname === podlet.manifest()) {<br>        res.statusCode = <span class="hljs-number">200</span>;<br>        res.setHeader(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'application/json'</span>);<br>        res.setHeader(<span class="hljs-string">'podlet-version'</span>, podlet.version);<br>        res.end(<span class="hljs-built_in">JSON</span>.stringify(podlet));<br>        <span class="hljs-keyword">return</span>;<br>    }<br><br>    <span class="hljs-keyword">if</span> (incoming.url.pathname === podlet.content()) {<br>        res.statusCode = <span class="hljs-number">200</span>;<br>        res.setHeader(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/html'</span>);<br>        res.setHeader(<span class="hljs-string">'podlet-version'</span>, podlet.version);<br><br>        <span class="hljs-keyword">if</span> (incoming.context.locale === <span class="hljs-string">'nb-NO'</span>) {<br>            res.end(podlet.render(incoming, <span class="hljs-string">'&lt;h2&gt;Hei verden&lt;/h2&gt;'</span>));<br>            <span class="hljs-keyword">return</span>;<br>        }<br>        res.end(podlet.render(incoming, <span class="hljs-string">'&lt;h2&gt;Hello world&lt;/h2&gt;'</span>));<br>        <span class="hljs-keyword">return</span>;<br>    }<br><br>    res.statusCode = <span class="hljs-number">404</span>;<br>    res.setHeader(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/plain'</span>);<br>    res.end(<span class="hljs-string">'Not found'</span>);<br>});<br><br>server.listen(<span class="hljs-number">7100</span>);<br></code></pre>
</span></div></div></div></div>
<p>Start the Podlet and it will be accessable on <a href="http://localhost:7100/">http://localhost:7100/</a></p>
</span></div></div></div><div class="blockElement twoByGridBlock"><div class="blockContent"><h2><div><span><p>Layouts</p>
</span></div></h2><div><span><p>Layouts are standalone HTTP services which on run time compose one or multiple Podlets (page fragments) into full webpages. Layouts are written in node.js with the @podium/layout module.</p>
<p>This is a Layout which will include two Podlets:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-230-tab-231" class="nav-link active" data-group="group_230" data-tab="tab-group-230-content-231">Express</div><div id="tab-group-230-tab-232" class="nav-link" data-group="group_230" data-tab="tab-group-230-content-232">Hapi</div><div id="tab-group-230-tab-233" class="nav-link" data-group="group_230" data-tab="tab-group-230-content-233">Fastify</div><div id="tab-group-230-tab-234" class="nav-link" data-group="group_230" data-tab="tab-group-230-content-234">HTTP</div></div><div class="tab-content"><div id="tab-group-230-content-231" class="tab-pane active" data-group="group_230" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);<br><span class="hljs-keyword">const</span> Layout = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@podium/layout'</span>);<br><br><span class="hljs-keyword">const</span> layout = <span class="hljs-keyword">new</span> Layout({<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">'myLayout'</span>,<br>    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br>});<br><br><span class="hljs-keyword">const</span> podletA = layout.client.register({<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodletA'</span>,<br>    <span class="hljs-attr">uri</span>: <span class="hljs-string">'http://localhost:7100/manifest.json'</span>,<br>});<br><br><span class="hljs-keyword">const</span> podletB = layout.client.register({<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodletB'</span>,<br>    <span class="hljs-attr">uri</span>: <span class="hljs-string">'http://localhost:7200/manifest.json'</span>,<br>});<br><br><span class="hljs-keyword">const</span> app = express();<br>app.use(layout.middleware());<br><br>app.get(layout.pathname(), <span class="hljs-keyword">async</span> (req, res, next) =&gt; {<br>    <span class="hljs-keyword">const</span> incoming = res.locals.podium;<br><br>    <span class="hljs-keyword">const</span> [a, b] = <span class="hljs-keyword">await</span> <span class="hljs-built_in">Promise</span>.all([<br>        podletA.fetch(incoming),<br>        podletB.fetch(incoming),<br>    ]);<br><br>    res.podiumSend(<span class="hljs-string">`<br>        &lt;section&gt;<span class="hljs-subst">${a.content}</span>&lt;/section&gt;<br>        &lt;section&gt;<span class="hljs-subst">${b.content}</span>&lt;/section&gt;<br>    `</span>);<br>});<br><br>app.listen(<span class="hljs-number">7000</span>);<br></code></pre>
</span></div></div><div id="tab-group-230-content-232" class="tab-pane" data-group="group_230" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> HapiLayout = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@podium/hapi-layout'</span>);<br><span class="hljs-keyword">const</span> Layout = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@podium/layout'</span>);<br><span class="hljs-keyword">const</span> Hapi = <span class="hljs-built_in">require</span>(<span class="hljs-string">'hapi'</span>);<br><br><span class="hljs-keyword">const</span> app = Hapi.Server({<br>    <span class="hljs-attr">host</span>: <span class="hljs-string">'localhost'</span>,<br>    <span class="hljs-attr">port</span>: <span class="hljs-number">7000</span>,<br>});<br><br><span class="hljs-keyword">const</span> layout = <span class="hljs-keyword">new</span> Layout({<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">'myLayout'</span>,<br>    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br>});<br><br><span class="hljs-keyword">const</span> podletA = layout.client.register({<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodletA'</span>,<br>    <span class="hljs-attr">uri</span>: <span class="hljs-string">'http://localhost:7100/manifest.json'</span>,<br>});<br><br><span class="hljs-keyword">const</span> podletB = layout.client.register({<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodletB'</span>,<br>    <span class="hljs-attr">uri</span>: <span class="hljs-string">'http://localhost:7200/manifest.json'</span>,<br>});<br><br>app.register({<br>    <span class="hljs-attr">plugin</span>: <span class="hljs-keyword">new</span> HapiLayout(),<br>    <span class="hljs-attr">options</span>: layout,<br>});<br><br>app.route({<br>    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br>    <span class="hljs-attr">path</span>: layout.pathname(),<br>    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> {<br>        <span class="hljs-keyword">const</span> incoming = request.app.podium;<br><br>        <span class="hljs-keyword">const</span> [a, b] = <span class="hljs-keyword">await</span> <span class="hljs-built_in">Promise</span>.all([<br>            podletA.fetch(incoming),<br>            podletB.fetch(incoming),<br>        ]);<br><br>        h.podiumSend(<span class="hljs-string">`<br>            &lt;section&gt;<span class="hljs-subst">${a.content}</span>&lt;/section&gt;<br>            &lt;section&gt;<span class="hljs-subst">${b.content}</span>&lt;/section&gt;<br>        `</span>);<br><br>    },<br>});<br><br>app.start();<br></code></pre>
</span></div></div><div id="tab-group-230-content-233" class="tab-pane" data-group="group_230" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> fastifyLayout = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@podium/fastify-layout'</span>);<br><span class="hljs-keyword">const</span> fastify = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fastify'</span>);<br><span class="hljs-keyword">const</span> Layout = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@podium/layout'</span>);<br><br><span class="hljs-keyword">const</span> app = fastify();<br><br><span class="hljs-keyword">const</span> layout = <span class="hljs-keyword">new</span> Layout({<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">'myLayout'</span>,<br>    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br>});<br><br><span class="hljs-keyword">const</span> podletA = layout.client.register({<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodletA'</span>,<br>    <span class="hljs-attr">uri</span>: <span class="hljs-string">'http://localhost:7100/manifest.json'</span>,<br>});<br><br><span class="hljs-keyword">const</span> podletB = layout.client.register({<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodletB'</span>,<br>    <span class="hljs-attr">uri</span>: <span class="hljs-string">'http://localhost:7200/manifest.json'</span>,<br>});<br><br>app.register(fastifyLayout, layout);<br><br>app.get(layout.pathname(), <span class="hljs-keyword">async</span> (request, reply) =&gt; {<br>    <span class="hljs-keyword">const</span> incoming = reply.app.podium;<br><br>    <span class="hljs-keyword">const</span> [a, b] = <span class="hljs-keyword">await</span> <span class="hljs-built_in">Promise</span>.all([<br>        podletA.fetch(incoming),<br>        podletB.fetch(incoming),<br>    ]);<br><br>    reply.podiumSend(<span class="hljs-string">`<br>        &lt;section&gt;<span class="hljs-subst">${a.content}</span>&lt;/section&gt;<br>        &lt;section&gt;<span class="hljs-subst">${b.content}</span>&lt;/section&gt;<br>    `</span>);<br>});<br><br><span class="hljs-keyword">const</span> start = <span class="hljs-keyword">async</span> () =&gt; {<br>    <span class="hljs-keyword">try</span> {<br>        <span class="hljs-keyword">await</span> app.listen(<span class="hljs-number">7000</span>);<br>        app.log.info(<span class="hljs-string">`server listening on <span class="hljs-subst">${app.server.address().port}</span>`</span>);<br>    } <span class="hljs-keyword">catch</span> (err) {<br>        app.log.error(err);<br>        process.exit(<span class="hljs-number">1</span>);<br>    }<br>}<br>start();<br></code></pre>
</span></div></div><div id="tab-group-230-content-234" class="tab-pane" data-group="group_230" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> { HttpIncoming } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@podium/utils'</span>);<br><span class="hljs-keyword">const</span> Layout = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@podium/layout'</span>);<br><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>);<br><br><span class="hljs-keyword">const</span> layout = <span class="hljs-keyword">new</span> Layout({<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">'myLayout'</span>,<br>    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br>});<br><br><span class="hljs-keyword">const</span> podletA = layout.client.register({<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodletA'</span>,<br>    <span class="hljs-attr">uri</span>: <span class="hljs-string">'http://localhost:7100/manifest.json'</span>,<br>});<br><br><span class="hljs-keyword">const</span> podletB = layout.client.register({<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodletB'</span>,<br>    <span class="hljs-attr">uri</span>: <span class="hljs-string">'http://localhost:7200/manifest.json'</span>,<br>});<br><br><span class="hljs-keyword">const</span> server = http.createServer(<span class="hljs-keyword">async</span> (req, res) =&gt; {<br>    <span class="hljs-keyword">let</span> incoming = <span class="hljs-keyword">new</span> HttpIncoming(req, res);<br>    incoming = <span class="hljs-keyword">await</span> layout.process(incoming);<br><br>    <span class="hljs-keyword">if</span> (incoming.url.pathname === layout.pathname()) {<br><br>        <span class="hljs-keyword">const</span> [a, b] = <span class="hljs-keyword">await</span> <span class="hljs-built_in">Promise</span>.all([<br>            podletA.fetch(incoming),<br>            podletB.fetch(incoming),<br>        ]);<br><br>        res.statusCode = <span class="hljs-number">200</span>;<br>        res.setHeader(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/html'</span>);<br><br>        res.end(podlet.render(incoming, <span class="hljs-string">`<br>            &lt;section&gt;<span class="hljs-subst">${a.content}</span>&lt;/section&gt;<br>            &lt;section&gt;<span class="hljs-subst">${b.content}</span>&lt;/section&gt;<br>        `</span>));<br>        <span class="hljs-keyword">return</span>;<br>    }<br><br>    res.statusCode = <span class="hljs-number">404</span>;<br>    res.setHeader(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/plain'</span>);<br>    res.end(<span class="hljs-string">'Not found'</span>);<br>});<br><br>server.listen(<span class="hljs-number">7000</span>);<br></code></pre>
</span></div></div></div></div>
<p>Start the Layout and it will be accessable on <a href="http://localhost:7000/">http://localhost:7000/</a></p>
</span></div></div></div></div></div></div><div class="productShowcaseSection paddingBottom"><h2>Who is Using This?</h2><p>This project is used by all these people</p><div class="logos"><a href="https://www.finn.no/"><img src="/img/finn_no_logo.png" alt="FINN.no" title="FINN.no"/></a></div><div class="more-users"><a class="button" href="/users.html">More Podium Users</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/favicon-96x96.png" alt="Podium" width="66" height="58"/></a><div><h5>Documentation</h5><a href="/docs/podium/conceptual_overview">Conceptual overview</a><a href="/docs/podlet/getting_started">Podlets</a><a href="/docs/layout/getting_started">Layouts</a></div><div><h5>API</h5><a href="/docs/api/getting_started">Getting started</a><a href="/docs/api/podlet">Podlets</a><a href="/docs/api/layout">Layouts</a></div><div><h5>Links</h5><a href="/blog">Blog</a><a href="https://github.com/podium-lib/issues">Issues</a><a href="https://github.com/podium-lib">GitHub</a><a href="https://www.npmjs.com/org/podium">npm</a><a href="https://micro-frontends.org/">Micro Frontends</a></div></section><a href="https://finn.no/" target="_blank" rel="noreferrer noopener" class="copyrightLogo"><img src="/img/finn_no_logo.png" alt="FINN.no" width="129" height="45"/></a><section class="copyright">Copyright © 2019 FINN.no Copyright</section></footer></div></body></html>