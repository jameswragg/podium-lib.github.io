<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>@podium/podlet · Podium</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;Module for building page fragment servers for micro frontend architectures.&lt;/p&gt;
"/><meta name="docsearch:version" content="next"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="@podium/podlet · Podium"/><meta property="og:type" content="website"/><meta property="og:url" content="https://podium-lib.io//"/><meta property="og:description" content="&lt;p&gt;Module for building page fragment servers for micro frontend architectures.&lt;/p&gt;
"/><meta property="og:image" content="https://podium-lib.io/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://podium-lib.io/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/favicon-32x32.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css"/><link rel="alternate" type="application/atom+xml" href="https://podium-lib.io/blog/atom.xml" title="Podium Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://podium-lib.io/blog/feed.xml" title="Podium Blog RSS Feed"/><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/favicon-96x96.png" alt="Podium"/><h2 class="headerTitleWithLogo">Podium</h2></a><a href="/versions"><h3>next</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/next/podium/conceptual_overview" target="_self">Overview</a></li><li class="siteNavGroupActive"><a href="/docs/next/podlet/getting_started" target="_self">Podlets</a></li><li class="siteNavGroupActive"><a href="/docs/next/layout/getting_started" target="_self">Layouts</a></li><li class="siteNavGroupActive"><a href="/docs/next/api/getting_started" target="_self">API</a></li><li class=""><a href="/help" target="_self">Help</a></li><li class=""><a href="/blog/" target="_self">Blog</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>API Docs</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Overview</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/next/podium/conceptual_overview">Conceptual Overview</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Podlet Guides</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/next/podlet/getting_started">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/docs/next/podlet/fallbacks">Fallbacks</a></li><li class="navListItem"><a class="navItem" href="/docs/next/podlet/context">Context</a></li><li class="navListItem"><a class="navItem" href="/docs/next/podlet/proxying">Proxying</a></li><li class="navListItem"><a class="navItem" href="/docs/next/podlet/local_development">Local Development</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Layout Guides</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/next/layout/getting_started">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/docs/next/layout/context">The Podium Context</a></li><li class="navListItem"><a class="navItem" href="/docs/next/layout/unavailable_podlets">Handling podlet unavailability</a></li><li class="navListItem"><a class="navItem" href="/docs/next/layout/dynamic_routes">Passing URL params and query string values to podlets</a></li><li class="navListItem"><a class="navItem" href="/docs/next/layout/assets">Assets</a></li><li class="navListItem"><a class="navItem" href="/docs/next/layout/local_development">Local Development</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">API Docs</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/next/api/getting_started">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/docs/next/api/incoming">HttpIncoming</a></li><li class="navListItem"><a class="navItem" href="/docs/next/api/document">Document Template</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/next/api/podlet">@podium/podlet</a></li><li class="navListItem"><a class="navItem" href="/docs/next/api/layout">@podium/layout</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">@podium/podlet</h1></header><article><div><span><p>Module for building page fragment servers for micro frontend architectures.</p>
<p>A podlet server is responsible for generating HTML fragments which can then be
used in a <a href="https://github.com/podium-lib/layout" title="@podium/layout">@podium/layout</a> server to compose a full HTML page.</p>
<p>This module can be used together with a plain Node.js HTTP server or any HTTP
framework and any templating language of your choosing (or none if you prefer).</p>
<p>Connect compatible middleware based frameworks (such as <a href="https://expressjs.com/" title="Express">Express</a>) are
considered first class in Podium and so this module provides a <code>.middleware()</code>
method for convenience.</p>
<p>For writing podlet servers with other HTTP frameworks, please see the
<a href="/docs/next/api/getting_started#http-framework-compabillity">HTTP Framework Compabillity</a>
section.</p>
<h2><a class="anchor" aria-hidden="true" id="installation"></a><a href="#installation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation</h2>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-80-tab-81" class="nav-link active" data-group="group_80" data-tab="tab-group-80-content-81">Default / Express</div><div id="tab-group-80-tab-82" class="nav-link" data-group="group_80" data-tab="tab-group-80-content-82">Hapi</div><div id="tab-group-80-tab-83" class="nav-link" data-group="group_80" data-tab="tab-group-80-content-83">Fastify</div></div><div class="tab-content"><div id="tab-group-80-content-81" class="tab-pane active" data-group="group_80" tabindex="-1"><div><span><pre><code class="hljs css language-bash">$ npm install @podium/podlet<br /></code></pre>
</span></div></div><div id="tab-group-80-content-82" class="tab-pane" data-group="group_80" tabindex="-1"><div><span><pre><code class="hljs css language-bash">$ npm install @podium/podlet<br />$ npm install @podium/hapi-podlet<br /></code></pre>
</span></div></div><div id="tab-group-80-content-83" class="tab-pane" data-group="group_80" tabindex="-1"><div><span><pre><code class="hljs css language-bash">$ npm install @podium/podlet<br />$ npm install @podium/fastify-podlet<br /></code></pre>
</span></div></div></div></div>
<h2><a class="anchor" aria-hidden="true" id="getting-started"></a><a href="#getting-started" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Getting started</h2>
<p>Building a simple podlet server.</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-84-tab-85" class="nav-link active" data-group="group_84" data-tab="tab-group-84-content-85">Express</div><div id="tab-group-84-tab-86" class="nav-link" data-group="group_84" data-tab="tab-group-84-content-86">Hapi</div><div id="tab-group-84-tab-87" class="nav-link" data-group="group_84" data-tab="tab-group-84-content-87">Fastify</div></div><div class="tab-content"><div id="tab-group-84-content-85" class="tab-pane active" data-group="group_84" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);<br /><span class="hljs-keyword">const</span> Podlet = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@podium/podlet'</span>);<br /><br /><span class="hljs-keyword">const</span> app = express();<br /><br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />    <span class="hljs-attr">development</span>: <span class="hljs-literal">true</span>,<br />});<br /><br />app.use(podlet.middleware());<br /><br />app.get(podlet.content(), (req, res) =&gt; {<br />    <span class="hljs-keyword">if</span> (res.locals.podium.context.locale === <span class="hljs-string">'nb-NO'</span>) {<br />        <span class="hljs-keyword">return</span> res.status(<span class="hljs-number">200</span>).podiumSend(<span class="hljs-string">'&lt;h2&gt;Hei verden&lt;/h2&gt;'</span>);<br />    }<br />    res.status(<span class="hljs-number">200</span>).podiumSend(<span class="hljs-string">`&lt;h2&gt;Hello world&lt;/h2&gt;`</span>);<br />});<br /><br />app.get(podlet.manifest(), (req, res) =&gt; {<br />    res.status(<span class="hljs-number">200</span>).send(podlet);<br />});<br /><br />app.listen(<span class="hljs-number">7100</span>);<br /></code></pre>
</span></div></div><div id="tab-group-84-content-86" class="tab-pane" data-group="group_84" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> HapiPodlet = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@podium/hapi-podlet'</span>);<br /><span class="hljs-keyword">const</span> Podlet = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@podium/podlet'</span>);<br /><span class="hljs-keyword">const</span> Hapi = <span class="hljs-built_in">require</span>(<span class="hljs-string">'hapi'</span>);<br /><br /><span class="hljs-keyword">const</span> app = Hapi.Server({<br />    <span class="hljs-attr">host</span>: <span class="hljs-string">'localhost'</span>,<br />    <span class="hljs-attr">port</span>: <span class="hljs-number">7100</span>,<br />});<br /><br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />    <span class="hljs-attr">development</span>: <span class="hljs-literal">true</span>,<br />});<br /><br />app.register({<br />    <span class="hljs-attr">plugin</span>: <span class="hljs-keyword">new</span> HapiPodlet(),<br />    <span class="hljs-attr">options</span>: podlet,<br />});<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: podlet.content(),<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> {<br />        <span class="hljs-keyword">if</span> (request.app.podium.context.locale === <span class="hljs-string">'nb-NO'</span>) {<br />            <span class="hljs-keyword">return</span> h.podiumSend(<span class="hljs-string">'&lt;h2&gt;Hei verden&lt;/h2&gt;'</span>);<br />        }<br />        <span class="hljs-keyword">return</span> h.podiumSend(<span class="hljs-string">'&lt;h2&gt;Hello world&lt;/h2&gt;'</span>);<br />    },<br />});<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: podlet.manifest(),<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> <span class="hljs-built_in">JSON</span>.stringify(podlet),<br />});<br /><br />app.start();<br /></code></pre>
</span></div></div><div id="tab-group-84-content-87" class="tab-pane" data-group="group_84" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> fastifyPodlet = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@podium/fastify-podlet'</span>);<br /><span class="hljs-keyword">const</span> fastify = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fastify'</span>);<br /><span class="hljs-keyword">const</span> Podlet = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@podium/podlet'</span>);<br /><br /><span class="hljs-keyword">const</span> app = fastify();<br /><br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />    <span class="hljs-attr">development</span>: <span class="hljs-literal">true</span>,<br />});<br /><br />app.register(fastifyPodlet, podlet);<br /><br />app.get(podlet.content(), <span class="hljs-keyword">async</span> (request, reply) =&gt; {<br />    <span class="hljs-keyword">if</span> (reply.app.podium.context.locale === <span class="hljs-string">'nb-NO'</span>) {<br />        reply.podiumSend(<span class="hljs-string">'&lt;h2&gt;Hei verden&lt;/h2&gt;'</span>);<br />        <span class="hljs-keyword">return</span>;<br />    }<br />    reply.podiumSend(<span class="hljs-string">'&lt;h2&gt;Hello world&lt;/h2&gt;'</span>);<br />});<br /><br />app.get(podlet.manifest(), <span class="hljs-keyword">async</span> (request, reply) =&gt; {<br />    reply.send(podlet);<br />});<br /><br /><span class="hljs-keyword">const</span> start = <span class="hljs-keyword">async</span> () =&gt; {<br />    <span class="hljs-keyword">try</span> {<br />        <span class="hljs-keyword">await</span> app.listen(<span class="hljs-number">7100</span>);<br />        app.log.info(<span class="hljs-string">`server listening on <span class="hljs-subst">${app.server.address().port}</span>`</span>);<br />    } <span class="hljs-keyword">catch</span> (err) {<br />        app.log.error(err);<br />        process.exit(<span class="hljs-number">1</span>);<br />    }<br />};<br />start();<br /></code></pre>
</span></div></div></div></div>
<h2><a class="anchor" aria-hidden="true" id="constructor"></a><a href="#constructor" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Constructor</h2>
<p>Create a new Podlet instance.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet(options);
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="options"></a><a href="#options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>options</h4>
<table>
<thead>
<tr><th>option</th><th>type</th><th>default</th><th>required</th><th>details</th></tr>
</thead>
<tbody>
<tr><td>name</td><td><code>string</code></td><td><code>null</code></td><td>✓</td><td>Name that the Podlet identifies itself by</td></tr>
<tr><td>pathname</td><td><code>string</code></td><td><code>null</code></td><td>✓</td><td>Pathname of where a Podlet is mounted in an HTTP server</td></tr>
<tr><td>version</td><td><code>string</code></td><td><code>null</code></td><td>✓</td><td>The current version of the podlet</td></tr>
<tr><td>manifest</td><td><code>string</code></td><td><code>/manifest.json</code></td><td></td><td>Defines the pathname for the manifest of the podlet</td></tr>
<tr><td>content</td><td><code>string</code></td><td><code>/</code></td><td></td><td>Defines the pathname for the content of the podlet</td></tr>
<tr><td>fallback</td><td><code>string</code></td><td><code>null</code></td><td></td><td>Defines the pathname for the fallback of the podlet</td></tr>
<tr><td>logger</td><td><code>object</code></td><td><code>null</code></td><td></td><td>A logger which conforms to a log4j interface</td></tr>
<tr><td>development</td><td><code>boolean</code></td><td><code>false</code></td><td></td><td>Turns development mode on or off</td></tr>
</tbody>
</table>
<h5><a class="anchor" aria-hidden="true" id="name"></a><a href="#name" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>name</h5>
<p>The name that the podlet identifies itself by. This is used internally for things
like metrics but can also be used by a layout server.</p>
<p>This value must be in camelCase.</p>
<p><em>Example:</em></p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({
    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>;
});
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="pathname"></a><a href="#pathname" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>pathname</h5>
<p>Pathname for where a podlet is mounted in an HTTP server. It is important that
this value matches where the entry point of a route is in an HTTP server since
this value is used to define where the manifest is for the podlet.</p>
<p>If the podlet is mounted at the &quot;root&quot;, set <code>pathname</code> to <code>/</code>:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-88-tab-89" class="nav-link active" data-group="group_88" data-tab="tab-group-88-content-89">Express</div><div id="tab-group-88-tab-90" class="nav-link" data-group="group_88" data-tab="tab-group-88-content-90">Hapi</div><div id="tab-group-88-tab-91" class="nav-link" data-group="group_88" data-tab="tab-group-88-content-91">Fastify</div></div><div class="tab-content"><div id="tab-group-88-content-89" class="tab-pane active" data-group="group_88" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = express();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />});<br /><br />app.use(podlet.middleware());<br /><br />app.get(<span class="hljs-string">'/'</span>, (req, res, next) =&gt; {<br />    [ ... ]<br />});<br /></code></pre>
</span></div></div><div id="tab-group-88-content-90" class="tab-pane" data-group="group_88" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = Hapi.Server([ ... ]);<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />});<br /><br />app.register({<br />    <span class="hljs-attr">plugin</span>: <span class="hljs-keyword">new</span> HapiPodlet(),<br />    <span class="hljs-attr">options</span>: podlet,<br />});<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>,<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> {<br />        [ ... ]<br />    },<br />});<br /></code></pre>
</span></div></div><div id="tab-group-88-content-91" class="tab-pane" data-group="group_88" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = fastify();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />});<br /><br />app.register(fastifyPodlet, podlet);<br /><br />app.get(<span class="hljs-string">'/'</span>, <span class="hljs-keyword">async</span> (request, reply) =&gt; {<br />    [ ... ]<br />});<br /></code></pre>
</span></div></div></div></div>
<p>If the podlet is to be mounted at <code>/foo</code>, set the pathname to <code>/foo</code> and mount
middleware and routes at or under <code>/foo</code></p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-92-tab-93" class="nav-link active" data-group="group_92" data-tab="tab-group-92-content-93">Express</div><div id="tab-group-92-tab-94" class="nav-link" data-group="group_92" data-tab="tab-group-92-content-94">Hapi</div><div id="tab-group-92-tab-95" class="nav-link" data-group="group_92" data-tab="tab-group-92-content-95">Fastify</div></div><div class="tab-content"><div id="tab-group-92-content-93" class="tab-pane active" data-group="group_92" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = express();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/foo'</span>,<br />});<br /><br />app.use(<span class="hljs-string">'/foo'</span>, podlet.middleware());<br /><br />app.get(<span class="hljs-string">'/foo'</span>, (req, res, next) =&gt; {<br />    [ ... ]<br />});<br /><br />app.get(<span class="hljs-string">'/foo/:id'</span>, (req, res, next) =&gt; {<br />    [ ... ]<br />});<br /></code></pre>
</span></div></div><div id="tab-group-92-content-94" class="tab-pane" data-group="group_92" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = Hapi.Server([ ... ]);<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/foo'</span>,<br />});<br /><br />app.register({<br />    <span class="hljs-attr">plugin</span>: <span class="hljs-keyword">new</span> HapiPodlet(),<br />    <span class="hljs-attr">options</span>: podlet,<br />});<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: <span class="hljs-string">'/foo'</span>,<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> {<br />        [ ... ]<br />    },<br />});<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: <span class="hljs-string">'/foo/{id}'</span>,<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> {<br />        [ ... ]<br />    },<br />});<br /></code></pre>
</span></div></div><div id="tab-group-92-content-95" class="tab-pane" data-group="group_92" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = fastify();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/foo'</span>,<br />});<br /><br />app.register(fastifyPodlet, podlet);<br /><br />app.get(<span class="hljs-string">'/foo'</span>, <span class="hljs-keyword">async</span> (request, reply) =&gt; {<br />    [ ... ]<br />});<br /><br />app.get(<span class="hljs-string">'/foo/:id'</span>, <span class="hljs-keyword">async</span> (request, reply) =&gt; {<br />    [ ... ]<br />});<br /></code></pre>
</span></div></div></div></div>
<h5><a class="anchor" aria-hidden="true" id="version"></a><a href="#version" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>version</h5>
<p>The current version of the podlet. It is important that this value be updated
when a new version of the podlet is deployed since the page (layout) that the
podlet is displayed in uses this value to know whether to refresh the podlet's
manifest and fallback content or not.</p>
<p><em>Example:</em></p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({
    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.1.0'</span>;
});
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="manifest"></a><a href="#manifest" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>manifest</h5>
<p>Defines the pathname for the manifest of the podlet. Defaults to
<code>/manifest.json</code>.</p>
<p>The value should be relative to the value set on the <code>pathname</code> argument. In
other words if a podlet is mounted into an HTTP server at <code>/foo</code> and the
manifest is at <code>/foo/component.json</code>, set the pathname and manifest as follows:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-96-tab-97" class="nav-link active" data-group="group_96" data-tab="tab-group-96-content-97">Express</div><div id="tab-group-96-tab-98" class="nav-link" data-group="group_96" data-tab="tab-group-96-content-98">Hapi</div><div id="tab-group-96-tab-99" class="nav-link" data-group="group_96" data-tab="tab-group-96-content-99">Fastify</div></div><div class="tab-content"><div id="tab-group-96-content-97" class="tab-pane active" data-group="group_96" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = express();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/foo'</span>,<br />    <span class="hljs-attr">manifest</span>: <span class="hljs-string">'/component.json'</span>,<br />});<br /><br />app.get(<span class="hljs-string">'/foo/component.json'</span>, (req, res, next) =&gt; {<br />    res.status(<span class="hljs-number">200</span>).json(podlet);<br />});<br /></code></pre>
</span></div></div><div id="tab-group-96-content-98" class="tab-pane" data-group="group_96" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = Hapi.Server([ ... ]);<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/foo'</span>,<br />    <span class="hljs-attr">manifest</span>: <span class="hljs-string">'/component.json'</span>,<br />});<br /><br />app.register({<br />    <span class="hljs-attr">plugin</span>: <span class="hljs-keyword">new</span> HapiPodlet(),<br />    <span class="hljs-attr">options</span>: podlet,<br />});<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: <span class="hljs-string">'/foo/component.json'</span>,<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> <span class="hljs-built_in">JSON</span>.stringify(podlet),<br />});<br /></code></pre>
</span></div></div><div id="tab-group-96-content-99" class="tab-pane" data-group="group_96" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = fastify();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/foo'</span>,<br />    <span class="hljs-attr">manifest</span>: <span class="hljs-string">'/component.json'</span>,<br />});<br /><br />app.register(fastifyPodlet, podlet);<br /><br />app.get(<span class="hljs-string">'/foo/component.json'</span>, <span class="hljs-keyword">async</span> (request, reply) =&gt; {<br />    reply.send(podlet);<br />});<br /></code></pre>
</span></div></div></div></div>
<p>The <code>.manifest()</code> method can be used to retrieve the value after it has been
set.</p>
<h5><a class="anchor" aria-hidden="true" id="content"></a><a href="#content" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>content</h5>
<p>Defines the pathname for the content of the Podlet. The value can be a relative
or absolute URL. Defaults to <code>/</code>.</p>
<p>If the value is relative, the value should be relative to the value set using the
<code>pathname</code> argument. For example, if a podlet is mounted into an HTTP server
at <code>/foo</code> and the content is served at <code>/foo/index.html</code>, set pathname and content as
follows:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-100-tab-101" class="nav-link active" data-group="group_100" data-tab="tab-group-100-content-101">Express</div><div id="tab-group-100-tab-102" class="nav-link" data-group="group_100" data-tab="tab-group-100-content-102">Hapi</div><div id="tab-group-100-tab-103" class="nav-link" data-group="group_100" data-tab="tab-group-100-content-103">Fastify</div></div><div class="tab-content"><div id="tab-group-100-content-101" class="tab-pane active" data-group="group_100" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = express();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/foo'</span>,<br />    <span class="hljs-attr">content</span>: <span class="hljs-string">'/index.html'</span>,<br />});<br /><br />app.get(<span class="hljs-string">'/foo/index.html'</span>, (req, res, next) =&gt; {<br />    [ ... ]<br />});<br /></code></pre>
</span></div></div><div id="tab-group-100-content-102" class="tab-pane" data-group="group_100" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = Hapi.Server([ ... ]);<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/foo'</span>,<br />    <span class="hljs-attr">content</span>: <span class="hljs-string">'/index.html'</span>,<br />});<br /><br />app.register({<br />    <span class="hljs-attr">plugin</span>: <span class="hljs-keyword">new</span> HapiPodlet(),<br />    <span class="hljs-attr">options</span>: podlet,<br />});<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: <span class="hljs-string">'/foo/index.html'</span>,<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> {<br />        [ ... ]<br />    },<br />});<br /></code></pre>
</span></div></div><div id="tab-group-100-content-103" class="tab-pane" data-group="group_100" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = fastify();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/foo'</span>,<br />    <span class="hljs-attr">content</span>: <span class="hljs-string">'/index.html'</span>,<br />});<br /><br />app.register(fastifyPodlet, podlet);<br /><br />app.get(<span class="hljs-string">'/foo/index.html'</span>, <span class="hljs-keyword">async</span> (request, reply) =&gt; {<br />    [ ... ]<br />});<br /></code></pre>
</span></div></div></div></div>
<p>The <code>.content()</code> method can be used to retrieve the value after it has been set.</p>
<h5><a class="anchor" aria-hidden="true" id="fallback"></a><a href="#fallback" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>fallback</h5>
<p>Defines the pathname for the fallback of the Podlet. The value can be a relative
or absolute URL. Defaults to an empty string.</p>
<p>If the value is relative, the value should be relative to the value set with the
<code>pathname</code> argument. If a podlet is mounted into an HTTP server
at <code>/foo</code> and the fallback is at <code>/foo/fallback.html</code>, set pathname and fallback
as follows:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-104-tab-105" class="nav-link active" data-group="group_104" data-tab="tab-group-104-content-105">Express</div><div id="tab-group-104-tab-106" class="nav-link" data-group="group_104" data-tab="tab-group-104-content-106">Hapi</div><div id="tab-group-104-tab-107" class="nav-link" data-group="group_104" data-tab="tab-group-104-content-107">Fastify</div></div><div class="tab-content"><div id="tab-group-104-content-105" class="tab-pane active" data-group="group_104" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = express();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/foo'</span>,<br />    <span class="hljs-attr">fallback</span>: <span class="hljs-string">'/fallback.html'</span>,<br />});<br /><br />app.get(<span class="hljs-string">'/foo/fallback.html'</span>, (req, res, next) =&gt; {<br />    [ ... ]<br />});<br /></code></pre>
</span></div></div><div id="tab-group-104-content-106" class="tab-pane" data-group="group_104" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = Hapi.Server([ ... ]);<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/foo'</span>,<br />    <span class="hljs-attr">fallback</span>: <span class="hljs-string">'/fallback.html'</span>,<br />});<br /><br />app.register({<br />    <span class="hljs-attr">plugin</span>: <span class="hljs-keyword">new</span> HapiPodlet(),<br />    <span class="hljs-attr">options</span>: podlet,<br />});<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: <span class="hljs-string">'/foo/fallback.html'</span>,<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> {<br />        [ ... ]<br />    },<br />});<br /></code></pre>
</span></div></div><div id="tab-group-104-content-107" class="tab-pane" data-group="group_104" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = fastify();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/foo'</span>,<br />    <span class="hljs-attr">fallback</span>: <span class="hljs-string">'/fallback.html'</span>,<br />});<br /><br />app.register(fastifyPodlet, podlet);<br /><br />app.get(<span class="hljs-string">'/foo/fallback.html'</span>, <span class="hljs-keyword">async</span> (request, reply) =&gt; {<br />    [ ... ]<br />});<br /></code></pre>
</span></div></div></div></div>
<p>The <code>.fallback()</code> method can be used to retrieve the value after it has been
set.</p>
<h5><a class="anchor" aria-hidden="true" id="logger"></a><a href="#logger" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>logger</h5>
<p>Any log4j compatible logger can be passed in and will be used for logging.
Console is also supported for easy test / development.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({
    <span class="hljs-attr">logger</span>: <span class="hljs-built_in">console</span>;
});
</code></pre>
<p>Under the hood <a href="https://github.com/trygve-lie/abslog" title="abslog">abslog</a> is used to abstract out logging. Please see <a href="https://github.com/trygve-lie/abslog" title="abslog">abslog</a> for
further details.</p>
<h5><a class="anchor" aria-hidden="true" id="development"></a><a href="#development" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>development</h5>
<p>Turns development mode on or off. See the section about development mode.</p>
<h2><a class="anchor" aria-hidden="true" id="podlet-instance"></a><a href="#podlet-instance" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Podlet Instance</h2>
<p>The podlet instance has the following API:</p>
<h3><a class="anchor" aria-hidden="true" id="middleware"></a><a href="#middleware" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.middleware()</h3>
<p>A Connect/Express compatible middleware function which takes care of the
multiple operations needed for a podlet to operate correctly. This function is
more or less a wrapper for the <code>.process()</code> method.</p>
<p><strong>Important:</strong> This middleware must be mounted before defining any routes.</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-108-tab-109" class="nav-link active" data-group="group_108" data-tab="tab-group-108-content-109">Express</div></div><div class="tab-content"><div id="tab-group-108-content-109" class="tab-pane active" data-group="group_108" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = express();<br />app.use(podlet.middleware());<br /></code></pre>
</span></div></div></div></div>
<p>The middleware will create an <a href="/docs/next/api/incoming"><code>HttpIncoming</code></a> object and store it
at <code>res.locals.podium</code>.</p>
<p>Returns an Array of internal middleware that performs the tasks described above.</p>
<h3><a class="anchor" aria-hidden="true" id="manifestoptions"></a><a href="#manifestoptions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.manifest(options)</h3>
<p>This method returns the value of the <code>manifest</code> argument that has been set in
the constructor.</p>
<p>Set the manifest using the default pathname which is <code>/manifest.json</code>:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-110-tab-111" class="nav-link active" data-group="group_110" data-tab="tab-group-110-content-111">Express</div><div id="tab-group-110-tab-112" class="nav-link" data-group="group_110" data-tab="tab-group-110-content-112">Hapi</div><div id="tab-group-110-tab-113" class="nav-link" data-group="group_110" data-tab="tab-group-110-content-113">Fastify</div></div><div class="tab-content"><div id="tab-group-110-content-111" class="tab-pane active" data-group="group_110" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = express();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />});<br /><br />app.get(podlet.manifest(), (req, res, next) =&gt; {<br />    res.status(<span class="hljs-number">200</span>).json(podlet);<br />});<br /></code></pre>
</span></div></div><div id="tab-group-110-content-112" class="tab-pane" data-group="group_110" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = Hapi.Server([ ... ]);<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />});<br /><br />app.register({<br />    <span class="hljs-attr">plugin</span>: <span class="hljs-keyword">new</span> HapiPodlet(),<br />    <span class="hljs-attr">options</span>: podlet,<br />});<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: podlet.manifest(),<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> <span class="hljs-built_in">JSON</span>.stringify(podlet),<br />});<br /></code></pre>
</span></div></div><div id="tab-group-110-content-113" class="tab-pane" data-group="group_110" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = fastify();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />});<br /><br />app.register(fastifyPodlet, podlet);<br /><br />app.get(podlet.manifest(), <span class="hljs-keyword">async</span> (request, reply) =&gt; {<br />    reply.send(podlet);<br />});<br /></code></pre>
</span></div></div></div></div>
<p>Set the manifest to <code>/component.json</code> using the <code>manifest</code> argument on the
constructor:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-114-tab-115" class="nav-link active" data-group="group_114" data-tab="tab-group-114-content-115">Express</div><div id="tab-group-114-tab-116" class="nav-link" data-group="group_114" data-tab="tab-group-114-content-116">Hapi</div><div id="tab-group-114-tab-117" class="nav-link" data-group="group_114" data-tab="tab-group-114-content-117">Fastify</div></div><div class="tab-content"><div id="tab-group-114-content-115" class="tab-pane active" data-group="group_114" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = express();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />    <span class="hljs-attr">manifest</span>: <span class="hljs-string">'/component.json'</span>,<br />});<br /><br />app.get(podlet.manifest(), (req, res, next) =&gt; {<br />    res.status(<span class="hljs-number">200</span>).json(podlet);<br />});<br /></code></pre>
</span></div></div><div id="tab-group-114-content-116" class="tab-pane" data-group="group_114" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = Hapi.Server([ ... ]);<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />    <span class="hljs-attr">manifest</span>: <span class="hljs-string">'/component.json'</span>,<br />});<br /><br />app.register({<br />    <span class="hljs-attr">plugin</span>: <span class="hljs-keyword">new</span> HapiPodlet(),<br />    <span class="hljs-attr">options</span>: podlet,<br />});<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: podlet.manifest(),<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> <span class="hljs-built_in">JSON</span>.stringify(podlet),<br />});<br /></code></pre>
</span></div></div><div id="tab-group-114-content-117" class="tab-pane" data-group="group_114" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = fastify();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />    <span class="hljs-attr">manifest</span>: <span class="hljs-string">'/component.json'</span>,<br />});<br /><br />app.register(fastifyPodlet, podlet);<br /><br />app.get(podlet.manifest(), <span class="hljs-keyword">async</span> (request, reply) =&gt; {<br />    reply.send(podlet);<br />});<br /></code></pre>
</span></div></div></div></div>
<p>Podium expects the podlet's manifest route to return a JSON document describing
the podlet. This can be achieved by simply serializing the podlet instance.</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-118-tab-119" class="nav-link active" data-group="group_118" data-tab="tab-group-118-content-119">Express</div><div id="tab-group-118-tab-120" class="nav-link" data-group="group_118" data-tab="tab-group-118-content-120">Hapi</div><div id="tab-group-118-tab-121" class="nav-link" data-group="group_118" data-tab="tab-group-118-content-121">Fastify</div></div><div class="tab-content"><div id="tab-group-118-content-119" class="tab-pane active" data-group="group_118" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = express();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet([ ... ]);<br /><br />app.get(podlet.manifest(), (req, res, next) =&gt; {<br />    res.status(<span class="hljs-number">200</span>).json(podlet);<br />});<br /></code></pre>
</span></div></div><div id="tab-group-118-content-120" class="tab-pane" data-group="group_118" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = Hapi.Server([ ... ]);<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet([ ... ]);<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: podlet.manifest(),<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> <span class="hljs-built_in">JSON</span>.stringify(podlet),<br />});<br /></code></pre>
</span></div></div><div id="tab-group-118-content-121" class="tab-pane" data-group="group_118" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = fastify();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet([ ... ]);<br /><br />app.get(podlet.manifest(), <span class="hljs-keyword">async</span> (request, reply) =&gt; {<br />    reply.send(podlet);<br />});<br /></code></pre>
</span></div></div></div></div>
<p>The route will then respond with something like:</p>
<pre><code class="hljs css language-json">{
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"myPodlet"</span>,
    <span class="hljs-attr">"version"</span>: <span class="hljs-string">"1.0.0"</span>,
    <span class="hljs-attr">"content"</span>: <span class="hljs-string">"/"</span>,
    <span class="hljs-attr">"fallback"</span>: <span class="hljs-string">"/fallback"</span>,
    <span class="hljs-attr">"css"</span>: [],
    <span class="hljs-attr">"js"</span>: [],
    <span class="hljs-attr">"proxy"</span>: {}
}
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="options-1"></a><a href="#options-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>options</h4>
<table>
<thead>
<tr><th>option</th><th>type</th><th>default</th><th>required</th></tr>
</thead>
<tbody>
<tr><td>prefix</td><td><code>boolean</code></td><td><code>false</code></td><td></td></tr>
</tbody>
</table>
<h5><a class="anchor" aria-hidden="true" id="prefix"></a><a href="#prefix" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>prefix</h5>
<p>Sets whether the method should prefix the return value with the value for
<code>pathname</code> that was set in the constructor.</p>
<p>Return the full pathname to the manifest (<code>/foo/component.json</code>):</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({
    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,
    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,
    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/foo'</span>,
    <span class="hljs-attr">manifest</span>: <span class="hljs-string">'/component.json'</span>,
});

podlet.manifest({ <span class="hljs-attr">prefix</span>: <span class="hljs-literal">true</span> });
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="contentoptions"></a><a href="#contentoptions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.content(options)</h3>
<p>This method returns the value of the <code>content</code> argument set in the constructor.</p>
<p>Set the content using the default pathname (<code>/</code>):</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-122-tab-123" class="nav-link active" data-group="group_122" data-tab="tab-group-122-content-123">Express</div><div id="tab-group-122-tab-124" class="nav-link" data-group="group_122" data-tab="tab-group-122-content-124">Hapi</div><div id="tab-group-122-tab-125" class="nav-link" data-group="group_122" data-tab="tab-group-122-content-125">Fastify</div></div><div class="tab-content"><div id="tab-group-122-content-123" class="tab-pane active" data-group="group_122" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = express();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />});<br /><br />app.get(podlet.content(), (req, res, next) =&gt; {<br />    [ ... ]<br />});<br /></code></pre>
</span></div></div><div id="tab-group-122-content-124" class="tab-pane" data-group="group_122" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = Hapi.Server([ ... ]);<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />});<br /><br />app.register({<br />    <span class="hljs-attr">plugin</span>: <span class="hljs-keyword">new</span> HapiPodlet(),<br />    <span class="hljs-attr">options</span>: podlet,<br />});<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: podlet.content(),<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> {<br />        [ ... ]<br />    },<br />});<br /></code></pre>
</span></div></div><div id="tab-group-122-content-125" class="tab-pane" data-group="group_122" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = fastify();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />});<br /><br />app.register(fastifyPodlet, podlet);<br /><br />app.get(podlet.content(), <span class="hljs-keyword">async</span> (request, reply) =&gt; {<br />    [ ... ]<br />});<br /></code></pre>
</span></div></div></div></div>
<p>Set the content path to <code>/index.html</code>:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-126-tab-127" class="nav-link active" data-group="group_126" data-tab="tab-group-126-content-127">Express</div><div id="tab-group-126-tab-128" class="nav-link" data-group="group_126" data-tab="tab-group-126-content-128">Hapi</div><div id="tab-group-126-tab-129" class="nav-link" data-group="group_126" data-tab="tab-group-126-content-129">Fastify</div></div><div class="tab-content"><div id="tab-group-126-content-127" class="tab-pane active" data-group="group_126" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = express();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />    <span class="hljs-attr">content</span>: <span class="hljs-string">'/index.html'</span>,<br />});<br /><br />app.get(podlet.content(), (req, res, next) =&gt; {<br />    [ ... ]<br />});<br /></code></pre>
</span></div></div><div id="tab-group-126-content-128" class="tab-pane" data-group="group_126" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = Hapi.Server([ ... ]);<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />    <span class="hljs-attr">content</span>: <span class="hljs-string">'/index.html'</span>,<br />});<br /><br />app.register({<br />    <span class="hljs-attr">plugin</span>: <span class="hljs-keyword">new</span> HapiPodlet(),<br />    <span class="hljs-attr">options</span>: podlet,<br />});<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: podlet.content(),<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> {<br />        [ ... ]<br />    },<br />});<br /></code></pre>
</span></div></div><div id="tab-group-126-content-129" class="tab-pane" data-group="group_126" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = fastify();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />    <span class="hljs-attr">content</span>: <span class="hljs-string">'/index.html'</span>,<br />});<br /><br />app.register(fastifyPodlet, podlet);<br /><br />app.get(podlet.content(), <span class="hljs-keyword">async</span> (request, reply) =&gt; {<br />    [ ... ]<br />});<br /></code></pre>
</span></div></div></div></div>
<p>Set the content path to <code>/content</code> and define multiple sub-routes each taking different
URI parameters:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-130-tab-131" class="nav-link active" data-group="group_130" data-tab="tab-group-130-content-131">Express</div><div id="tab-group-130-tab-132" class="nav-link" data-group="group_130" data-tab="tab-group-130-content-132">Hapi</div><div id="tab-group-130-tab-133" class="nav-link" data-group="group_130" data-tab="tab-group-130-content-133">Fastify</div></div><div class="tab-content"><div id="tab-group-130-content-131" class="tab-pane active" data-group="group_130" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = express();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />    <span class="hljs-attr">content</span>: <span class="hljs-string">'/content'</span>,<br />});<br /><br />app.get(<span class="hljs-string">'/content'</span>, (req, res) =&gt; { ... });<br />app.get(<span class="hljs-string">'/content/info'</span>, (req, res) =&gt; { ... });<br />app.get(<span class="hljs-string">'/content/info/:id'</span>, (req, res) =&gt; { ... });<br /></code></pre>
</span></div></div><div id="tab-group-130-content-132" class="tab-pane" data-group="group_130" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = Hapi.Server([ ... ]);<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />    <span class="hljs-attr">content</span>: <span class="hljs-string">'/content'</span>,<br />});<br /><br />app.register({<br />    <span class="hljs-attr">plugin</span>: <span class="hljs-keyword">new</span> HapiPodlet(),<br />    <span class="hljs-attr">options</span>: podlet,<br />});<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: <span class="hljs-string">'/content'</span>,<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> {<br />        [ ... ]<br />    },<br />});<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: <span class="hljs-string">'/content/info'</span>,<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> {<br />        [ ... ]<br />    },<br />});<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: <span class="hljs-string">'/content/info/{id}'</span>,<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> {<br />        [ ... ]<br />    },<br />});<br /></code></pre>
</span></div></div><div id="tab-group-130-content-133" class="tab-pane" data-group="group_130" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = fastify();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />    <span class="hljs-attr">content</span>: <span class="hljs-string">'/content'</span>,<br />});<br /><br />app.register(fastifyPodlet, podlet);<br /><br />app.get(<span class="hljs-string">'/content'</span>, <span class="hljs-keyword">async</span> (request, reply) =&gt; { ... });<br />app.get(<span class="hljs-string">'/content/info'</span>, <span class="hljs-keyword">async</span> (request, reply) =&gt; { ... });<br />app.get(<span class="hljs-string">'/content/info/:id'</span>, <span class="hljs-keyword">async</span> (request, reply) =&gt; { ... });<br /></code></pre>
</span></div></div></div></div>
<h4><a class="anchor" aria-hidden="true" id="options-2"></a><a href="#options-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>options</h4>
<table>
<thead>
<tr><th>option</th><th>type</th><th>default</th><th>required</th></tr>
</thead>
<tbody>
<tr><td>prefix</td><td><code>boolean</code></td><td><code>false</code></td><td></td></tr>
</tbody>
</table>
<h5><a class="anchor" aria-hidden="true" id="prefix-1"></a><a href="#prefix-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>prefix</h5>
<p>Specifies whether the method should prefix the return value with the <code>pathname</code> value
that was set in the constructor.</p>
<p>Return the full pathname to the content (<code>/foo/index.html</code>):</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({
    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,
    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,
    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/foo'</span>,
    <span class="hljs-attr">content</span>: <span class="hljs-string">'/index.html'</span>,
});

podlet.content({ <span class="hljs-attr">prefix</span>: <span class="hljs-literal">true</span> });
</code></pre>
<p>The prefix will be ignored if the returned value is an absolute URL.</p>
<h3><a class="anchor" aria-hidden="true" id="fallbackoptions"></a><a href="#fallbackoptions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.fallback(options)</h3>
<p>This method returns the value of the <code>fallback</code> argument set in the constructor.</p>
<p>Set the fallback to <code>/fallback.html</code>:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-134-tab-135" class="nav-link active" data-group="group_134" data-tab="tab-group-134-content-135">Express</div><div id="tab-group-134-tab-136" class="nav-link" data-group="group_134" data-tab="tab-group-134-content-136">Hapi</div><div id="tab-group-134-tab-137" class="nav-link" data-group="group_134" data-tab="tab-group-134-content-137">Fastify</div></div><div class="tab-content"><div id="tab-group-134-content-135" class="tab-pane active" data-group="group_134" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = express();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />    <span class="hljs-attr">fallback</span>: <span class="hljs-string">'/fallback.html'</span>,<br />});<br /><br />app.get(podlet.fallback(), (req, res, next) =&gt; {<br />    [ ... ]<br />});<br /></code></pre>
</span></div></div><div id="tab-group-134-content-136" class="tab-pane" data-group="group_134" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = Hapi.Server([ ... ]);<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />    <span class="hljs-attr">fallback</span>: <span class="hljs-string">'/fallback.html'</span>,<br />});<br /><br />app.register({<br />    <span class="hljs-attr">plugin</span>: <span class="hljs-keyword">new</span> HapiPodlet(),<br />    <span class="hljs-attr">options</span>: podlet,<br />});<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: podlet.fallback(),<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> {<br />        [ ... ]<br />    },<br />});<br /></code></pre>
</span></div></div><div id="tab-group-134-content-137" class="tab-pane" data-group="group_134" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = fastify();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />    <span class="hljs-attr">fallback</span>: <span class="hljs-string">'/fallback.html'</span>,<br />});<br /><br />app.register(fastifyPodlet, podlet);<br /><br />app.get(podlet.fallback(), <span class="hljs-keyword">async</span> (request, reply) =&gt; {<br />    [ ... ]<br />});<br /></code></pre>
</span></div></div></div></div>
<h4><a class="anchor" aria-hidden="true" id="options-3"></a><a href="#options-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>options</h4>
<table>
<thead>
<tr><th>option</th><th>type</th><th>default</th><th>required</th></tr>
</thead>
<tbody>
<tr><td>prefix</td><td><code>boolean</code></td><td><code>false</code></td><td></td></tr>
</tbody>
</table>
<h5><a class="anchor" aria-hidden="true" id="prefix-2"></a><a href="#prefix-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>prefix</h5>
<p>Specifies whether the fallback method should prefix the return value with the
value for <code>pathname</code> set in the constructor.</p>
<p>Return the full pathname to the fallback (<code>/foo/fallback.html</code>):</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({
    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,
    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,
    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/foo'</span>,
    <span class="hljs-attr">fallback</span>: <span class="hljs-string">'/fallback.html'</span>,
});

podlet.fallback({ <span class="hljs-attr">prefix</span>: <span class="hljs-literal">true</span> });
</code></pre>
<p>The prefix will be ignored if the returned value is an absolute URL.</p>
<h3><a class="anchor" aria-hidden="true" id="jsoptions-options"></a><a href="#jsoptions-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.js(options|[options])</h3>
<p>Set relative or absolute URLs to JavaScript assets for the podlet.</p>
<p>When set the values will be internally kept and made available for the document
template to include. The assets set are also made available in the manifest for
the layout to consume.</p>
<p>This method can be called multiple times with a single options object to set
multiple assets or one can provide an array of options objects to set multiple
assets.</p>
<h4><a class="anchor" aria-hidden="true" id="options-4"></a><a href="#options-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>options</h4>
<table>
<thead>
<tr><th>option</th><th>type</th><th>default</th><th>required</th><th>details</th></tr>
</thead>
<tbody>
<tr><td>value</td><td><code>string</code></td><td></td><td>✓</td><td>Relative or absolute URL to the JavaScript asset</td></tr>
<tr><td>prefix</td><td><code>boolean</code></td><td><code>false</code></td><td></td><td>If the <code>pathname</code> defined in the constructor should be applied, if relative, to the <code>value</code></td></tr>
<tr><td>type</td><td><code>string</code></td><td><code>default</code></td><td></td><td>What type of JavaScript</td></tr>
</tbody>
</table>
<h5><a class="anchor" aria-hidden="true" id="value"></a><a href="#value" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>value</h5>
<p>Sets the <code>pathname</code> for the podlet's JavaScript assets. This value can be a URL
at which the podlet's user facing JavaScript is served. The value can be either
the <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/pathname" title="pathname">pathname</a> of a <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL" title="URL">URL</a> or an absolute URL.</p>
<p>Serve a javascript file at <code>/assets/main.js</code>:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-138-tab-139" class="nav-link active" data-group="group_138" data-tab="tab-group-138-content-139">Express</div><div id="tab-group-138-tab-140" class="nav-link" data-group="group_138" data-tab="tab-group-138-content-140">Hapi</div><div id="tab-group-138-tab-141" class="nav-link" data-group="group_138" data-tab="tab-group-138-content-141">Fastify</div></div><div class="tab-content"><div id="tab-group-138-content-139" class="tab-pane active" data-group="group_138" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = express();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />});<br /><br />app.get(<span class="hljs-string">'/assets.js'</span>, (req, res) =&gt; {<br />    res.status(<span class="hljs-number">200</span>).sendFile(<span class="hljs-string">'./src/js/main.js'</span>, err =&gt; {});<br />});<br /><br />podlet.js({ <span class="hljs-attr">value</span>: <span class="hljs-string">'/assets.js'</span> });<br /></code></pre>
</span></div></div><div id="tab-group-138-content-140" class="tab-pane" data-group="group_138" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = Hapi.Server([ ... ]);<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />});<br /><br />app.register({<br />    <span class="hljs-attr">plugin</span>: <span class="hljs-keyword">new</span> HapiPodlet(),<br />    <span class="hljs-attr">options</span>: podlet,<br />});<br /><br />app.register(<span class="hljs-built_in">require</span>(<span class="hljs-string">'@hapi/inert'</span>));<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: <span class="hljs-string">'/assets.js'</span>,<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> {<br />        <span class="hljs-keyword">return</span> h.file(<span class="hljs-string">'./src/js/main.js'</span>);<br />    },<br />});<br /><br />podlet.js({ <span class="hljs-attr">value</span>: <span class="hljs-string">'/assets.js'</span> });<br /></code></pre>
</span></div></div><div id="tab-group-138-content-141" class="tab-pane" data-group="group_138" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = fastify();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />});<br /><br />app.register(fastifyPodlet, podlet);<br /><br />app.register(<span class="hljs-built_in">require</span>(<span class="hljs-string">'fastify-static'</span>), {<br />    <span class="hljs-attr">root</span>: <span class="hljs-string">'./src/js/'</span>,<br />});<br /><br />app.get(<span class="hljs-string">'/assets.js'</span>, (request, reply) =&gt; {<br />    reply.sendFile(<span class="hljs-string">'main.js'</span>);<br />});<br /><br />podlet.js({ <span class="hljs-attr">value</span>: <span class="hljs-string">'/assets.js'</span> });<br /></code></pre>
</span></div></div></div></div>
<p>Serve assets statically along side the app and set a relative URI to the
JavaScript file:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-142-tab-143" class="nav-link active" data-group="group_142" data-tab="tab-group-142-content-143">Express</div><div id="tab-group-142-tab-144" class="nav-link" data-group="group_142" data-tab="tab-group-142-content-144">Hapi</div><div id="tab-group-142-tab-145" class="nav-link" data-group="group_142" data-tab="tab-group-142-content-145">Fastify</div></div><div class="tab-content"><div id="tab-group-142-content-143" class="tab-pane active" data-group="group_142" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = express();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />});<br /><br />app.use(<span class="hljs-string">'/assets'</span>, express.static(<span class="hljs-string">'./src/js'</span>));<br /><br />podlet.js([<br />    { <span class="hljs-attr">value</span>: <span class="hljs-string">'/assets/main.js'</span> },<br />    { <span class="hljs-attr">value</span>: <span class="hljs-string">'/assets/extra.js'</span> },<br />]);<br /></code></pre>
</span></div></div><div id="tab-group-142-content-144" class="tab-pane" data-group="group_142" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = Hapi.Server({<br />    <span class="hljs-attr">port</span>: <span class="hljs-number">7000</span>,<br />    <span class="hljs-attr">routes</span>: {<br />        <span class="hljs-attr">files</span>: {<br />            <span class="hljs-attr">relativeTo</span>: <span class="hljs-string">'./src/js/'</span>,<br />        },<br />    },<br />});<br /><br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />});<br /><br />app.register({<br />    <span class="hljs-attr">plugin</span>: <span class="hljs-keyword">new</span> HapiPodlet(),<br />    <span class="hljs-attr">options</span>: podlet,<br />});<br /><br />app.register(<span class="hljs-built_in">require</span>(<span class="hljs-string">'@hapi/inert'</span>));<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: <span class="hljs-string">'/assets/{param*}'</span>,<br />    <span class="hljs-attr">handler</span>: {<br />        <span class="hljs-attr">directory</span>: {<br />            <span class="hljs-attr">path</span>: <span class="hljs-string">'.'</span>,<br />            <span class="hljs-attr">redirectToSlash</span>: <span class="hljs-literal">true</span>,<br />        },<br />    },<br />});<br /><br />podlet.js([<br />    { <span class="hljs-attr">value</span>: <span class="hljs-string">'/assets/main.js'</span> },<br />    { <span class="hljs-attr">value</span>: <span class="hljs-string">'/assets/extra.js'</span> },<br />]);<br /></code></pre>
</span></div></div><div id="tab-group-142-content-145" class="tab-pane" data-group="group_142" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = fastify();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />});<br /><br />app.register(fastifyPodlet, podlet);<br /><br />app.register(<span class="hljs-built_in">require</span>(<span class="hljs-string">'fastify-static'</span>), {<br />    <span class="hljs-attr">root</span>: <span class="hljs-string">'./src/js/'</span>,<br />});<br /><br />app.get(<span class="hljs-string">'/assets/:file'</span>, (request, reply) =&gt; {<br />    reply.sendFile(request.params.file);<br />});<br /><br />podlet.js([<br />    { <span class="hljs-attr">value</span>: <span class="hljs-string">'/assets/main.js'</span> },<br />    { <span class="hljs-attr">value</span>: <span class="hljs-string">'/assets/extra.js'</span> },<br />]);<br /></code></pre>
</span></div></div></div></div>
<p>Set an absolute URL to where the javascript file is located:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({
    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,
    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,
    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,
});

podlet.js({ <span class="hljs-attr">value</span>: <span class="hljs-string">'http://cdn.mysite.com/assets/js/e7rfg76.js'</span> });
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="prefix-3"></a><a href="#prefix-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>prefix</h5>
<p>Specify whether the method should prefix the return value with the value for
<code>pathname</code> that was set in the constructor.</p>
<p>Return the full pathname, <code>/foo/assets/main.js</code>, to the JavaScript assets:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({
    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,
    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,
    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/foo'</span>,
});

podlet.js({ <span class="hljs-attr">value</span>: <span class="hljs-string">'/assets/main.js'</span>, <span class="hljs-attr">prefix</span>: <span class="hljs-literal">true</span> });
</code></pre>
<p>Prefix will be ignored if the returned value is an absolute URL.</p>
<h5><a class="anchor" aria-hidden="true" id="type"></a><a href="#type" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>type</h5>
<p>Set the type of script which is set. If not set, <code>default</code> will be used.</p>
<p>Use one of the following values:</p>
<ul>
<li><code>esm</code> for ECMAScript modules</li>
<li><code>cjs</code> for CommonJS modules</li>
<li><code>amd</code> for AMD modules</li>
<li><code>umd</code> for Universal Module Definition</li>
<li><code>default</code> if the type is unknown.</li>
</ul>
<p>The type is a hint for further use of the script. This is normally used by the
document template to print correct <code>&lt;script&gt;</code> tag or to give a hint to a
bundler when optimizing JavaScript assets.</p>
<h3><a class="anchor" aria-hidden="true" id="cssoptions-options"></a><a href="#cssoptions-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.css(options|[options])</h3>
<p>Set relative or absolute URLs to Cascading Style Sheets (CSS) assets for the
podlet.</p>
<p>When set the values will be internally kept and made available for the document
template to include. The assets set are also made available in the manifest for
the layout to consume.</p>
<p>The method can be called multiple times with a single options object to set
multiple assets or one can provide an array of options objects to set multiple
assets.</p>
<h4><a class="anchor" aria-hidden="true" id="options-5"></a><a href="#options-5" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>options</h4>
<table>
<thead>
<tr><th>option</th><th>type</th><th>default</th><th>required</th><th>details</th></tr>
</thead>
<tbody>
<tr><td>value</td><td><code>string</code></td><td></td><td>✓</td><td>Relative or absolute URL to the CSS asset</td></tr>
<tr><td>prefix</td><td><code>boolean</code></td><td><code>false</code></td><td></td><td>If the <code>pathname</code> defined in the constructor should be applied, if relative, to the <code>value</code></td></tr>
</tbody>
</table>
<h5><a class="anchor" aria-hidden="true" id="value-1"></a><a href="#value-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>value</h5>
<p>Sets the <code>pathname</code> for the CSS assets for the Podlet. The value can be a URL at
which the podlet's user facing CSS is served. The value can be the <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/pathname" title="pathname">pathname</a> of
a <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL" title="URL">URL</a> or an absolute URL.</p>
<p>Serve a CSS file at <code>/assets/main.css</code>:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-146-tab-147" class="nav-link active" data-group="group_146" data-tab="tab-group-146-content-147">Express</div><div id="tab-group-146-tab-148" class="nav-link" data-group="group_146" data-tab="tab-group-146-content-148">Hapi</div><div id="tab-group-146-tab-149" class="nav-link" data-group="group_146" data-tab="tab-group-146-content-149">Fastify</div></div><div class="tab-content"><div id="tab-group-146-content-147" class="tab-pane active" data-group="group_146" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = express();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />});<br /><br />app.get(<span class="hljs-string">'/assets.css'</span>, (req, res) =&gt; {<br />    res.status(<span class="hljs-number">200</span>).sendFile(<span class="hljs-string">'./src/css/main.css'</span>, err =&gt; {});<br />});<br /><br />podlet.css({ <span class="hljs-attr">value</span>: <span class="hljs-string">'/assets.css'</span> });<br /></code></pre>
</span></div></div><div id="tab-group-146-content-148" class="tab-pane" data-group="group_146" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = Hapi.Server([ ... ]);<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />});<br /><br />app.register({<br />    <span class="hljs-attr">plugin</span>: <span class="hljs-keyword">new</span> HapiPodlet(),<br />    <span class="hljs-attr">options</span>: podlet,<br />});<br /><br />app.register(<span class="hljs-built_in">require</span>(<span class="hljs-string">'@hapi/inert'</span>));<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: <span class="hljs-string">'/assets.css'</span>,<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> {<br />        <span class="hljs-keyword">return</span> h.file(<span class="hljs-string">'./src/css/main.css'</span>);<br />    },<br />});<br /><br />podlet.css({ <span class="hljs-attr">value</span>: <span class="hljs-string">'/assets.css'</span> });<br /></code></pre>
</span></div></div><div id="tab-group-146-content-149" class="tab-pane" data-group="group_146" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = fastify();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />});<br /><br />app.register(fastifyPodlet, podlet);<br /><br />app.register(<span class="hljs-built_in">require</span>(<span class="hljs-string">'fastify-static'</span>), {<br />    <span class="hljs-attr">root</span>: <span class="hljs-string">'./src/css/'</span>,<br />});<br /><br />app.get(<span class="hljs-string">'/assets.css'</span>, (request, reply) =&gt; {<br />    reply.sendFile(<span class="hljs-string">'main.css'</span>);<br />});<br /><br />podlet.css({ <span class="hljs-attr">value</span>: <span class="hljs-string">'/assets.css'</span> });<br /></code></pre>
</span></div></div></div></div>
<p>Serve assets statically alongside the app and set a relative URI to the css
file:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-150-tab-151" class="nav-link active" data-group="group_150" data-tab="tab-group-150-content-151">Express</div><div id="tab-group-150-tab-152" class="nav-link" data-group="group_150" data-tab="tab-group-150-content-152">Hapi</div><div id="tab-group-150-tab-153" class="nav-link" data-group="group_150" data-tab="tab-group-150-content-153">Fastify</div></div><div class="tab-content"><div id="tab-group-150-content-151" class="tab-pane active" data-group="group_150" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = express();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />});<br /><br />app.use(<span class="hljs-string">'/assets'</span>, express.static(<span class="hljs-string">'./src/css'</span>));<br /><br />podlet.css([<br />    { <span class="hljs-attr">value</span>: <span class="hljs-string">'/assets/main.css'</span> },<br />    { <span class="hljs-attr">value</span>: <span class="hljs-string">'/assets/extra.css'</span> },<br />]);<br /></code></pre>
</span></div></div><div id="tab-group-150-content-152" class="tab-pane" data-group="group_150" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = Hapi.Server({<br />    <span class="hljs-attr">port</span>: <span class="hljs-number">7000</span>,<br />    <span class="hljs-attr">routes</span>: {<br />        <span class="hljs-attr">files</span>: {<br />            <span class="hljs-attr">relativeTo</span>: <span class="hljs-string">'./src/css/'</span>,<br />        },<br />    },<br />});<br /><br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />});<br /><br />app.register({<br />    <span class="hljs-attr">plugin</span>: <span class="hljs-keyword">new</span> HapiPodlet(),<br />    <span class="hljs-attr">options</span>: podlet,<br />});<br /><br />app.register(<span class="hljs-built_in">require</span>(<span class="hljs-string">'@hapi/inert'</span>));<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: <span class="hljs-string">'/assets/{param*}'</span>,<br />    <span class="hljs-attr">handler</span>: {<br />        <span class="hljs-attr">directory</span>: {<br />            <span class="hljs-attr">path</span>: <span class="hljs-string">'.'</span>,<br />            <span class="hljs-attr">redirectToSlash</span>: <span class="hljs-literal">true</span>,<br />        },<br />    },<br />});<br /><br />podlet.css([<br />    { <span class="hljs-attr">value</span>: <span class="hljs-string">'/assets/main.css'</span> },<br />    { <span class="hljs-attr">value</span>: <span class="hljs-string">'/assets/extra.css'</span> },<br />]);<br /></code></pre>
</span></div></div><div id="tab-group-150-content-153" class="tab-pane" data-group="group_150" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = fastify();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({<br />    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,<br />    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,<br />    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,<br />});<br /><br />app.register(fastifyPodlet, podlet);<br /><br />app.register(<span class="hljs-built_in">require</span>(<span class="hljs-string">'fastify-static'</span>), {<br />    <span class="hljs-attr">root</span>: <span class="hljs-string">'./src/css/'</span>,<br />});<br /><br />app.get(<span class="hljs-string">'/assets/:file'</span>, (request, reply) =&gt; {<br />    reply.sendFile(request.params.file);<br />});<br /><br />podlet.css([<br />    { <span class="hljs-attr">value</span>: <span class="hljs-string">'/assets/main.css'</span> },<br />    { <span class="hljs-attr">value</span>: <span class="hljs-string">'/assets/extra.css'</span> },<br />]);<br /></code></pre>
</span></div></div></div></div>
<p>Set an absolute URL to where the CSS file is located:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({
    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,
    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,
    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/'</span>,
});

podlet.css({ <span class="hljs-attr">value</span>: <span class="hljs-string">'http://cdn.mysite.com/assets/css/3ru39ur.css'</span> });
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="prefix-4"></a><a href="#prefix-4" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>prefix</h5>
<p>Sets whether the method should prefix the return value with the value for
<code>pathname</code> set in the constructor.</p>
<p>Returns the full pathname (<code>/foo/assets/main.css</code>) to the CSS assets:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({
    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,
    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,
    <span class="hljs-attr">pathname</span>: <span class="hljs-string">'/foo'</span>,
});

podlet.css({ <span class="hljs-attr">value</span>: <span class="hljs-string">'/assets/main.css'</span>, <span class="hljs-attr">prefix</span>: <span class="hljs-literal">true</span> });
</code></pre>
<p>Prefix will be ignored if the returned value is an absolute URL.</p>
<h3><a class="anchor" aria-hidden="true" id="proxy-target-name"></a><a href="#proxy-target-name" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.proxy({ target, name })</h3>
<p>Method for defining proxy targets to be mounted in a layout server. For a
detailed overview of how proxying works, please see the
<a href="/docs/next/podlet/proxying">proxying guide</a> for further details.</p>
<p>When a podlet is put in development mode (<code>development</code> is set to <code>true</code> in the constructor) these proxy endpoints will also be mounted in the podlet for ease of development and you will then have the same proxy endpoints available in development as you do when working with a layout.</p>
<p>Proxying is intended to be used as a way to make podlet endpoints publicly available. A
common use case for this is creating endpoints for client side code to interact
with (ajax requests from the browser). One might also make use of proxying to
pass form submissions from the browser back to the podlet.</p>
<p>This method returns the value of the <code>target</code> argument and internally keeps
track of the value of <code>target</code> for use when the podlet instance is serialized
into a manifest JSON string.</p>
<p>In a podlet it is possible to define up to 4 proxy targets and each target can
be the <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/pathname" title="pathname">pathname</a> part of a <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL" title="URL">URL</a> or an absolute URL.</p>
<p>For each podlet, each proxy target must have a unique name.</p>
<p>Mounts one proxy target <code>/api</code> with the name <code>api</code>:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-154-tab-155" class="nav-link active" data-group="group_154" data-tab="tab-group-154-content-155">Express</div><div id="tab-group-154-tab-156" class="nav-link" data-group="group_154" data-tab="tab-group-154-content-156">Hapi</div><div id="tab-group-154-tab-157" class="nav-link" data-group="group_154" data-tab="tab-group-154-content-157">Fastify</div></div><div class="tab-content"><div id="tab-group-154-content-155" class="tab-pane active" data-group="group_154" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = express();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet( ... );<br />app.get(podlet.proxy({ <span class="hljs-attr">target</span>: <span class="hljs-string">'/api'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'api'</span> }), (req, res) =&gt; { ... });<br /></code></pre>
</span></div></div><div id="tab-group-154-content-156" class="tab-pane" data-group="group_154" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = Hapi.Server( ... );<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet( ... );<br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: podlet.proxy({ <span class="hljs-attr">target</span>: <span class="hljs-string">'/api'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'api'</span> }),<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> { ... },<br />});<br /></code></pre>
</span></div></div><div id="tab-group-154-content-157" class="tab-pane" data-group="group_154" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = fastify();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet( ... );<br />app.get(podlet.proxy({ <span class="hljs-attr">target</span>: <span class="hljs-string">'/api'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'api'</span> }), <span class="hljs-keyword">async</span> (request, reply) =&gt; {<br />    ...<br />});<br /></code></pre>
</span></div></div></div></div>
<p>Defines multiple endpoints on one proxy target <code>/api</code> with the name <code>api</code>:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-158-tab-159" class="nav-link active" data-group="group_158" data-tab="tab-group-158-content-159">Express</div><div id="tab-group-158-tab-160" class="nav-link" data-group="group_158" data-tab="tab-group-158-content-160">Hapi</div><div id="tab-group-158-tab-161" class="nav-link" data-group="group_158" data-tab="tab-group-158-content-161">Fastify</div></div><div class="tab-content"><div id="tab-group-158-content-159" class="tab-pane active" data-group="group_158" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = express();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet( ... );<br /><br />app.get(<span class="hljs-string">'/api'</span>, (req, res) =&gt; { ... });<br />app.get(<span class="hljs-string">'/api/foo'</span>, (req, res) =&gt; { ... });<br />app.post(<span class="hljs-string">'/api/foo'</span>, (req, res) =&gt; { ... });<br />app.get(<span class="hljs-string">'/api/bar/:id'</span>, (req, res) =&gt; { ... });<br /><br />podlet.proxy({ <span class="hljs-attr">target</span>: <span class="hljs-string">'/api'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'api'</span> });<br /></code></pre>
</span></div></div><div id="tab-group-158-content-160" class="tab-pane" data-group="group_158" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = Hapi.Server( ... );<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet( ... );<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: <span class="hljs-string">'/api'</span>,<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> { ... },<br />});<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: <span class="hljs-string">'/api/foo'</span>,<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> { ... },<br />});<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,<br />    <span class="hljs-attr">path</span>: <span class="hljs-string">'/api/foo'</span>,<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> { ... },<br />});<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: <span class="hljs-string">'/api/bar/{id}'</span>,<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> { ... },<br />});<br /><br />podlet.proxy({ <span class="hljs-attr">target</span>: <span class="hljs-string">'/api'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'api'</span> });<br /></code></pre>
</span></div></div><div id="tab-group-158-content-161" class="tab-pane" data-group="group_158" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> app = fastify();<br /><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet( ... );<br /><br />app.get(<span class="hljs-string">'/api'</span>, <span class="hljs-keyword">async</span> (request, reply) =&gt; { ... });<br />app.get(<span class="hljs-string">'/api/foo'</span>, <span class="hljs-keyword">async</span> (request, reply) =&gt; { ... });<br />app.post(<span class="hljs-string">'/api/foo'</span>, <span class="hljs-keyword">async</span> (request, reply) =&gt; { ... });<br />app.get(<span class="hljs-string">'/api/foo/:id'</span>, <span class="hljs-keyword">async</span> (request, reply) =&gt; { ... });<br /><br />podlet.proxy({ <span class="hljs-attr">target</span>: <span class="hljs-string">'/api'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'api'</span> });<br /></code></pre>
</span></div></div></div></div>
<p>Sets a remote target by defining an absolute URL:</p>
<pre><code class="hljs css language-js">podlet.proxy({ <span class="hljs-attr">target</span>: <span class="hljs-string">'http://remote.site.com/api/'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'remoteApi'</span> });
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="defaultscontext"></a><a href="#defaultscontext" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.defaults(context)</h3>
<p>Alters the default context set when in development mode.</p>
<p>By default this context has the following shape:</p>
<pre><code class="hljs css language-js">{
    <span class="hljs-attr">debug</span>: <span class="hljs-string">'false'</span>,
    <span class="hljs-attr">locale</span>: <span class="hljs-string">'en-EN'</span>,
    <span class="hljs-attr">deviceType</span>: <span class="hljs-string">'desktop'</span>,
    <span class="hljs-attr">requestedBy</span>: <span class="hljs-string">'the_name_of_the_podlet'</span>,
    <span class="hljs-attr">mountOrigin</span>: <span class="hljs-string">'http://localhost:port'</span>,
    <span class="hljs-attr">mountPathname</span>: <span class="hljs-string">'/same/as/manifest/method'</span>,
    <span class="hljs-attr">publicPathname</span>: <span class="hljs-string">'/same/as/manifest/method'</span>,
}
</code></pre>
<p>The default development mode context can be overridden by passing an object with
the desired key / values to override.</p>
<p>Example of overriding <code>deviceType</code>:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({
    <span class="hljs-attr">name</span>: <span class="hljs-string">'foo'</span>,
    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,
});

podlet.defaults({
    <span class="hljs-attr">deviceType</span>: <span class="hljs-string">'mobile'</span>,
});
</code></pre>
<p>Additional values not defined by Podium can also be appended to the default
development mode context in the same way.</p>
<p>Example of adding a context value:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({
    <span class="hljs-attr">name</span>: <span class="hljs-string">'foo'</span>,
    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,
});

podlet.defaults({
    <span class="hljs-attr">token</span>: <span class="hljs-string">'9fc498984f3ewi'</span>,
});
</code></pre>
<p>N.B. The default development mode context will only be appended to the response
when the constructor option <code>development</code> is set to <code>true</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="viewtemplate"></a><a href="#viewtemplate" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.view(template)</h3>
<p>Sets the default encapsulating HTML document template.</p>
<p>Its worth noting that this document template is only applied to Podlets when in
development mode. When a Layout requests a Podlet this document template will
not be applied.</p>
<p>Takes a template function that accepts an instance of HttpIncoming, a content
string as well as any additional markup for the document's head section:</p>
<pre><code class="hljs css language-js">(incoming, body, head) =&gt; <span class="hljs-string">`Return an HTML string here`</span>;
</code></pre>
<p>In practice this might look something like:</p>
<pre><code class="hljs css language-js">layout.view(<span class="hljs-function">(<span class="hljs-params">incoming, body, head</span>) =&gt;</span> <span class="hljs-string">`&lt;!doctype html&gt;
&lt;html lang="<span class="hljs-subst">${incoming.context.locale}</span>"&gt;
    &lt;head&gt;
        &lt;meta charset="<span class="hljs-subst">${incoming.view.encoding}</span>"&gt;
        &lt;title&gt;<span class="hljs-subst">${incoming.view.title}</span>&lt;/title&gt;
        <span class="hljs-subst">${head}</span>
    &lt;/head&gt;
    &lt;body&gt;
        <span class="hljs-subst">${body}</span>
    &lt;/body&gt;
&lt;/html&gt;`</span>;
);
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="renderhttpincoming-fragment-args"></a><a href="#renderhttpincoming-fragment-args" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.render(HttpIncoming, fragment, [args])</h3>
<p>Method to render the document template. Will, by default, render the document
template provided by Podium unless a custom document template is set using the
<code>.view</code> method.</p>
<p>In most HTTP frameworks this method can be ignored in favour of
<code>res.podiumSend()</code>. If present, <code>res.podiumSend()</code> has the advantage that it's not necessary to pass in an <a href="/docs/next/api/incoming"><code>HttpIncoming</code></a> object as the first argument.</p>
<p>Returns a <code>String</code>.</p>
<p>This method takes the following arguments:</p>
<h4><a class="anchor" aria-hidden="true" id="httpincoming-required"></a><a href="#httpincoming-required" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>HttpIncoming (required)</h4>
<p>An instance of the <a href="/docs/next/api/incoming"><code>HttpIncoming</code></a> class.</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-162-tab-163" class="nav-link active" data-group="group_162" data-tab="tab-group-162-content-163">Express</div><div id="tab-group-162-tab-164" class="nav-link" data-group="group_162" data-tab="tab-group-162-content-164">Hapi</div><div id="tab-group-162-tab-165" class="nav-link" data-group="group_162" data-tab="tab-group-162-content-165">Fastify</div></div><div class="tab-content"><div id="tab-group-162-content-163" class="tab-pane active" data-group="group_162" tabindex="-1"><div><span><pre><code class="hljs css language-js">app.get(podlet.content(), (req, res) =&gt; {<br />    <span class="hljs-keyword">const</span> incoming = res.locals.podium;<br />    <span class="hljs-keyword">const</span> <span class="hljs-built_in">document</span> = layout.render(incoming, <span class="hljs-string">'&lt;div&gt;content to render&lt;/div&gt;'</span>);<br />    res.send(<span class="hljs-built_in">document</span>);<br />});<br /></code></pre>
</span></div></div><div id="tab-group-162-content-164" class="tab-pane" data-group="group_162" tabindex="-1"><div><span><pre><code class="hljs css language-js">app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: podlet.content(),<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> {<br />        <span class="hljs-keyword">const</span> incoming = request.app.podium;<br />        <span class="hljs-keyword">return</span> layout.render(incoming, <span class="hljs-string">'&lt;div&gt;content to render&lt;/div&gt;'</span>);<br />    },<br />});<br /></code></pre>
</span></div></div><div id="tab-group-162-content-165" class="tab-pane" data-group="group_162" tabindex="-1"><div><span><pre><code class="hljs css language-js">app.get(podlet.content(), (req, res) =&gt; {<br />    <span class="hljs-keyword">const</span> incoming = reply.app.podium;<br />    <span class="hljs-keyword">const</span> <span class="hljs-built_in">document</span> = layout.render(incoming, <span class="hljs-string">'&lt;div&gt;content to render&lt;/div&gt;'</span>);<br />    reply.send(<span class="hljs-built_in">document</span>);<br />});<br /></code></pre>
</span></div></div></div></div>
<h4><a class="anchor" aria-hidden="true" id="fragment"></a><a href="#fragment" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>fragment</h4>
<p>An String that is intended to be a fragment of the final HTML document.</p>
<pre><code class="hljs css language-js">layout.render(incoming, <span class="hljs-string">'&lt;div&gt;content to render&lt;/div&gt;'</span>);
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="args"></a><a href="#args" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>[args]</h4>
<p>All following arguments given to the method will be passed on to the document
template. For example, this could be used to pass on parts of a page to the
document template.</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-166-tab-167" class="nav-link active" data-group="group_166" data-tab="tab-group-166-content-167">Express</div><div id="tab-group-166-tab-168" class="nav-link" data-group="group_166" data-tab="tab-group-166-content-168">Hapi</div><div id="tab-group-166-tab-169" class="nav-link" data-group="group_166" data-tab="tab-group-166-content-169">Fastify</div></div><div class="tab-content"><div id="tab-group-166-content-167" class="tab-pane active" data-group="group_166" tabindex="-1"><div><span><pre><code class="hljs css language-js">podlet.view = <span class="hljs-function">(<span class="hljs-params">incoming, body, head</span>) =&gt;</span> {<br />    <span class="hljs-keyword">return</span> <span class="hljs-string">`<br />        &lt;html&gt;<br />            &lt;head&gt;<span class="hljs-subst">${head}</span>&lt;/head&gt;<br />            &lt;body&gt;<span class="hljs-subst">${body}</span>&lt;/body&gt;<br />        &lt;/html&gt;<br />    `</span>;<br />};<br /><br />app.get(podlet.content(), <span class="hljs-keyword">async</span> (req, res, next) =&gt; {<br />    <span class="hljs-keyword">const</span> incoming = res.locals.podium;<br /><br />    <span class="hljs-keyword">const</span> head = <span class="hljs-string">`&lt;meta ..... /&gt;`</span>;<br />    <span class="hljs-keyword">const</span> body = <span class="hljs-string">`&lt;section&gt;my content&lt;/section&gt;`</span>;<br /><br />    <span class="hljs-keyword">const</span> <span class="hljs-built_in">document</span> = layout.render(incoming, body, head);<br />    res.send(<span class="hljs-built_in">document</span>);<br />});<br /></code></pre>
</span></div></div><div id="tab-group-166-content-168" class="tab-pane" data-group="group_166" tabindex="-1"><div><span><pre><code class="hljs css language-js">podlet.view = <span class="hljs-function">(<span class="hljs-params">incoming, body, head</span>) =&gt;</span> {<br />    <span class="hljs-keyword">return</span> <span class="hljs-string">`<br />        &lt;html&gt;<br />            &lt;head&gt;<span class="hljs-subst">${head}</span>&lt;/head&gt;<br />            &lt;body&gt;<span class="hljs-subst">${body}</span>&lt;/body&gt;<br />        &lt;/html&gt;<br />    `</span>;<br />};<br /><br />app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: podlet.content(),<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> {<br />        <span class="hljs-keyword">const</span> incoming = request.app.podium;<br /><br />        <span class="hljs-keyword">const</span> head = <span class="hljs-string">`&lt;meta ..... /&gt;`</span>;<br />        <span class="hljs-keyword">const</span> body = <span class="hljs-string">`&lt;section&gt;my content&lt;/section&gt;`</span>;<br /><br />        <span class="hljs-keyword">return</span> layout.render(incoming, body, head);<br />    },<br />});<br /></code></pre>
</span></div></div><div id="tab-group-166-content-169" class="tab-pane" data-group="group_166" tabindex="-1"><div><span><pre><code class="hljs css language-js">podlet.view = <span class="hljs-function">(<span class="hljs-params">incoming, body, head</span>) =&gt;</span> {<br />    <span class="hljs-keyword">return</span> <span class="hljs-string">`<br />        &lt;html&gt;<br />            &lt;head&gt;<span class="hljs-subst">${head}</span>&lt;/head&gt;<br />            &lt;body&gt;<span class="hljs-subst">${body}</span>&lt;/body&gt;<br />        &lt;/html&gt;<br />    `</span>;<br />};<br /><br />app.get(podlet.content(), (req, res) =&gt; {<br />    <span class="hljs-keyword">const</span> incoming = reply.app.podium;<br /><br />    <span class="hljs-keyword">const</span> head = <span class="hljs-string">`&lt;meta ..... /&gt;`</span>;<br />    <span class="hljs-keyword">const</span> body = <span class="hljs-string">`&lt;section&gt;my content&lt;/section&gt;`</span>;<br /><br />    <span class="hljs-keyword">const</span> <span class="hljs-built_in">document</span> = layout.render(incoming, body, head);<br />    reply.send(<span class="hljs-built_in">document</span>);<br />});<br /></code></pre>
</span></div></div></div></div>
<h3><a class="anchor" aria-hidden="true" id="processhttpincoming"></a><a href="#processhttpincoming" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.process(HttpIncoming)</h3>
<p>Method for processing an incoming HTTP request. This method is intended to be
used to implement support for multiple HTTP frameworks and in most cases will
not need to be used directly by podlet developers when creating podlet servers.</p>
<p>What it does:</p>
<ul>
<li>Handles detection of development mode and sets the appropriate defaults</li>
<li>Runs context deserializing on the incoming request and sets a context object at <code>HttpIncoming.context</code>.</li>
</ul>
<p>Returns an <a href="/docs/next/api/incoming"><code>HttpIncoming</code></a> object.</p>
<p>This method takes the following arguments:</p>
<h4><a class="anchor" aria-hidden="true" id="httpincoming-required-1"></a><a href="#httpincoming-required-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>HttpIncoming (required)</h4>
<p>An instance of the <a href="/docs/next/api/incoming"><code>HttpIncoming</code></a> class.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> { HttpIncoming } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@podium/utils'</span>);
<span class="hljs-keyword">const</span> Podlet = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@podium/podlet'</span>);

<span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({
    <span class="hljs-attr">name</span>: <span class="hljs-string">'myPodlet'</span>,
    <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,
    <span class="hljs-attr">pathname</span>: podlet.content(),
});

app.use(<span class="hljs-keyword">async</span> (req, res, next) =&gt; {
    <span class="hljs-keyword">const</span> incoming = <span class="hljs-keyword">new</span> HttpIncoming(req, res, res.locals);
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">await</span> podlet.process(incoming);
        <span class="hljs-keyword">if</span> (!incoming.proxy) {
            res.locals.podium = result;
            next();
        }
    } <span class="hljs-keyword">catch</span> (error) {
        next(error);
    }
});
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="respodiumsendfragment"></a><a href="#respodiumsendfragment" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>res.podiumSend(fragment)</h2>
<p>Method for dispatching an HTML fragment. Calls the <code>.send()</code> / <code>.write()</code> methods
in the framework that's being used and serves the HTML fragment.</p>
<p>When in development mode, when the constructor option <code>development</code> is set to
<code>true</code>, this method will wrap the provided fragment in the given document
template before dispatching. When not in development mode, this method will just
dispatch the fragment.</p>
<p>Example of sending an HTML fragment:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-170-tab-171" class="nav-link active" data-group="group_170" data-tab="tab-group-170-content-171">Express</div><div id="tab-group-170-tab-172" class="nav-link" data-group="group_170" data-tab="tab-group-170-content-172">Hapi</div><div id="tab-group-170-tab-173" class="nav-link" data-group="group_170" data-tab="tab-group-170-content-173">Fastify</div></div><div class="tab-content"><div id="tab-group-170-content-171" class="tab-pane active" data-group="group_170" tabindex="-1"><div><span><pre><code class="hljs css language-js">app.get(podlet.content(), (req, res) =&gt; {<br />    res.podiumSend(<span class="hljs-string">'&lt;h1&gt;Hello World&lt;/h1&gt;'</span>);<br />});<br /></code></pre>
</span></div></div><div id="tab-group-170-content-172" class="tab-pane" data-group="group_170" tabindex="-1"><div><span><pre><code class="hljs css language-js">app.route({<br />    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,<br />    <span class="hljs-attr">path</span>: podlet.content(),<br />    <span class="hljs-attr">handler</span>: <span class="hljs-function">(<span class="hljs-params">request, h</span>) =&gt;</span> {<br />        <span class="hljs-keyword">return</span> h.podiumSend(<span class="hljs-string">'&lt;h2&gt;Hello world&lt;/h2&gt;'</span>);<br />    },<br />});<br /></code></pre>
</span></div></div><div id="tab-group-170-content-173" class="tab-pane" data-group="group_170" tabindex="-1"><div><span><pre><code class="hljs css language-js">app.get(podlet.content(), (request, reply) =&gt; {<br />    reply.podiumSend(<span class="hljs-string">'&lt;h2&gt;Hello world&lt;/h2&gt;'</span>);<br />});<br /></code></pre>
</span></div></div></div></div>
<h2><a class="anchor" aria-hidden="true" id="development-mode"></a><a href="#development-mode" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Development mode</h2>
<p>In most cases podlets are fragments of a whole HTML document. When a layout
server is requesting a podlet's content or fallback, the podlet should serve
just that fragment and not a whole HTML document with its <code>&lt;html&gt;</code>, <code>&lt;head&gt;</code>
and <code>&lt;body&gt;</code>. Additionally, when a layout server requests a podlet it provides a Podium context to the podlet.</p>
<p>These things can prove challenging for local development since accessing a
podlet directly, from a web browser, in local development will render the
podlet without either an encapsulating HTML document or a Podium context that
the podlet might need to function properly.</p>
<p>To solve this it is possible to switch a podlet to development mode by setting
the <code>development</code> argument in the constructor to <code>true</code>.</p>
<p>When in development mode a default context on the HTTP response will be set and
an encapsulating HTML document will be provided (so long as <code>res.podiumSend()</code>
is used) when dispatching the content or fallback.</p>
<p>The default HTML document for encapsulating a fragment will reference the
values set on <code>.css()</code> and <code>.js()</code> and use <code>locale</code> from the default context to
set language on the document.</p>
<p>The default context in development mode can be altered by the <code>.defaults()</code>
method of the podlet instance.</p>
<p>The default encapsulating HTML document used in development mode can be replaced
by the <code>.view()</code> method of the podlet instance.</p>
<p><em>Note:</em> Only turn on development mode during local development, ensure it is
turned off when in production.</p>
<p>Example of turning on development mode only in local development:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> podlet = <span class="hljs-keyword">new</span> Podlet({
    <span class="hljs-attr">development</span>: process.env.NODE_ENV !== <span class="hljs-string">'production'</span>;
});
</code></pre>
<p>When a layout server sends a request to a podlet in development mode, the
default context will be overridden by the context from the layout server and
the encapsulating HTML document will not be applied.</p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 7/3/2019</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/next/api/document"><span class="arrow-prev">← </span><span>Document Template</span></a><a class="docs-next button" href="/docs/next/api/layout"><span>@podium/layout</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#installation">Installation</a></li><li><a href="#getting-started">Getting started</a></li><li><a href="#constructor">Constructor</a></li><li><a href="#podlet-instance">Podlet Instance</a><ul class="toc-headings"><li><a href="#middleware">.middleware()</a></li><li><a href="#manifestoptions">.manifest(options)</a></li><li><a href="#contentoptions">.content(options)</a></li><li><a href="#fallbackoptions">.fallback(options)</a></li><li><a href="#jsoptions-options">.js(options|[options])</a></li><li><a href="#cssoptions-options">.css(options|[options])</a></li><li><a href="#proxy-target-name">.proxy({ target, name })</a></li><li><a href="#defaultscontext">.defaults(context)</a></li><li><a href="#viewtemplate">.view(template)</a></li><li><a href="#renderhttpincoming-fragment-args">.render(HttpIncoming, fragment, [args])</a></li><li><a href="#processhttpincoming">.process(HttpIncoming)</a></li></ul></li><li><a href="#respodiumsendfragment">res.podiumSend(fragment)</a></li><li><a href="#development-mode">Development mode</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/favicon-96x96.png" alt="Podium" width="66" height="58"/></a><div><h5>Documentation</h5><a href="/docs/podium/conceptual_overview">Conceptual overview</a><a href="/docs/podlet/getting_started">Podlets</a><a href="/docs/layout/getting_started">Layouts</a></div><div><h5>API</h5><a href="/docs/api/getting_started">Getting started</a><a href="/docs/api/podlet">Podlets</a><a href="/docs/api/layout">Layouts</a></div><div><h5>Links</h5><a href="/blog">Blog</a><a href="https://github.com/podium-lib/issues">Issues</a><a href="https://github.com/podium-lib">GitHub</a><a href="https://www.npmjs.com/org/podium">npm</a><a href="https://micro-frontends.org/">Micro Frontends</a></div></section><a href="https://finn.no/" target="_blank" rel="noreferrer noopener" class="copyrightLogo"><img src="/img/finn_no_logo.png" alt="FINN.no" width="129" height="45"/></a><section class="copyright">Copyright © 2019 FINN.no Copyright</section></footer></div></body></html>